import{S as C,i as G,s as V,e as T,k as U,t as w,c as y,a as N,d as r,m as A,h as k,b as S,g as _,J as E,L as P,E as q,K as O,v as J,$ as K,l as z,a0 as F,j as Q}from"../../chunks/index-e63e67ba.js";import{p as W}from"../../chunks/stores-056fff36.js";import{a as X}from"../../chunks/tilesStandalone-0d4f7199.js";import{c as Y,p as Z}from"../../chunks/web3-db635edc.js";import{D as x}from"../../chunks/index-46a986ed.js";import{g}from"../../chunks/ethers-1dcdd663.js";import"../../chunks/preload-helper-f8a04cdf.js";import"../../chunks/interface-d399d296.js";import"../../chunks/scrypt-11d3cd77.js";function $(c){let t,a,l,f=c[3].params.address+"",d,b,m,u,o,s,i,v,h,B,I,L,R,p=c[2]&&M();return{c(){t=new K(!1),a=U(),l=T("p"),d=w(f),b=U(),m=T("p"),u=w("Available"),o=U(),s=T("button"),i=w("MINT ("),v=w(D),h=w(" ETH)"),B=U(),p&&p.c(),I=z(),this.h()},l(e){t=F(e,!1),a=A(e),l=y(e,"P",{});var n=N(l);d=k(n,f),n.forEach(r),b=A(e),m=y(e,"P",{});var j=N(m);u=k(j,"Available"),j.forEach(r),o=A(e),s=y(e,"BUTTON",{class:!0});var H=N(s);i=k(H,"MINT ("),v=k(H,D),h=k(H," ETH)"),H.forEach(r),B=A(e),p&&p.l(e),I=z(),this.h()},h(){t.a=a,S(s,"class","svelte-18qfwvz")},m(e,n){t.m(c[0],e,n),_(e,a,n),_(e,l,n),E(l,d),_(e,b,n),_(e,m,n),E(m,u),_(e,o,n),_(e,s,n),E(s,i),E(s,v),E(s,h),_(e,B,n),p&&p.m(e,n),_(e,I,n),L||(R=P(s,"click",c[4]),L=!0)},p(e,n){n&1&&t.p(e[0]),n&8&&f!==(f=e[3].params.address+"")&&Q(d,f),e[2]?p||(p=M(),p.c(),p.m(I.parentNode,I)):p&&(p.d(1),p=null)},d(e){e&&t.d(),e&&r(a),e&&r(l),e&&r(b),e&&r(m),e&&r(o),e&&r(s),e&&r(B),p&&p.d(e),e&&r(I),L=!1,R()}}}function ee(c){let t,a;return{c(){t=T("h1"),a=w("Not a valid address")},l(l){t=y(l,"H1",{});var f=N(t);a=k(f,"Not a valid address"),f.forEach(r)},m(l,f){_(l,t,f),E(t,a)},p:q,d(l){l&&r(t)}}}function M(c){let t,a;return{c(){t=T("p"),a=w("Insufficient balance")},l(l){t=y(l,"P",{});var f=N(t);a=k(f,"Insufficient balance"),f.forEach(r)},m(l,f){_(l,t,f),E(t,a)},d(l){l&&r(t)}}}function te(c){let t,a,l,f,d,b;function m(s,i){if(s[1])return ee;if(s[0])return $}let u=m(c),o=u&&u(c);return{c(){t=T("section"),o&&o.c(),a=U(),l=T("button"),f=w("Download SVG"),this.h()},l(s){t=y(s,"SECTION",{class:!0});var i=N(t);o&&o.l(i),i.forEach(r),a=A(s),l=y(s,"BUTTON",{class:!0});var v=N(l);f=k(v,"Download SVG"),v.forEach(r),this.h()},h(){S(t,"class","svelte-18qfwvz"),S(l,"class","download svelte-18qfwvz")},m(s,i){_(s,t,i),o&&o.m(t,null),_(s,a,i),_(s,l,i),E(l,f),d||(b=P(l,"click",c[5]),d=!0)},p(s,[i]){u===(u=m(s))&&o?o.p(s,i):(o&&o.d(1),o=u&&u(s),o&&(o.c(),o.m(t,null)))},i:q,o:q,d(s){s&&r(t),o&&o.d(),s&&r(a),s&&r(l),d=!1,b()}}}let D=.04;function le(c,t,a){let l,f,d;O(c,W,i=>a(3,l=i)),O(c,Y,i=>a(6,f=i)),O(c,Z,i=>a(7,d=i));let b,m=!1,u=!1;async function o(){console.log("\u{1F6E0}  Implement mint");const i=await d.getBalance(f),v=g(i);Number(v)<D&&a(2,u=!0)}function s(){const i=new Blob([b],{type:"text/plain"}),v=window.URL.createObjectURL(i),h=document.createElement("a");h.href=v,h.download="tile.svg",h.click(),window.URL.revokeObjectURL(v)}return J(()=>{x(l.params.address)?(a(0,b=X(l.params.address)),a(1,m=!1)):a(1,m=!0)}),[b,m,u,l,o,s]}class me extends C{constructor(t){super(),G(this,t,le,te,V,{})}}export{me as default};
