import{c as X,L as M,ah as gi,a2 as O,ag as je,a6 as _,aA as tr,a3 as $e,a4 as C,aP as mi,az as En,aj as ir,ay as Gt,al as Pt,an as yr,a7 as Vt,ab as it,aa as kt,aD as Sn,af as _n,h as at,aG as Gr,ax as qo,ap as hn,at as Ji}from"./index-46a986ed.js";import{F as Vo,e as Wo,G as Jo,H as Zo,g as vi,I as Ws,K as yi,M as Xo}from"./web3-db635edc.js";import{a as It,s as Mn}from"./scrypt-11d3cd77.js";import{d as Yo}from"./index-0fdb8fd4.js";import"./preload-helper-f8a04cdf.js";import"./index-e63e67ba.js";import"./crc32-94c843c5.js";var Pn={exports:{}};(function(r){(function(e,t){function i(p,o){if(!p)throw new Error(o||"Assertion failed")}function n(p,o){p.super_=o;var u=function(){};u.prototype=o.prototype,p.prototype=new u,p.prototype.constructor=p}function s(p,o,u){if(s.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((o==="le"||o==="be")&&(u=o,o=10),this._init(p||0,o||10,u||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=require("buffer").Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,u){return o.cmp(u)>0?o:u},s.min=function(o,u){return o.cmp(u)<0?o:u},s.prototype._init=function(o,u,l){if(typeof o=="number")return this._initNumber(o,u,l);if(typeof o=="object")return this._initArray(o,u,l);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var g=0;o[0]==="-"&&(g++,this.negative=1),g<o.length&&(u===16?this._parseHex(o,g,l):(this._parseBase(o,u,g),l==="le"&&this._initArray(this.toArray(),u,l)))},s.prototype._initNumber=function(o,u,l){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),u,l)},s.prototype._initArray=function(o,u,l){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,x,E=0;if(l==="be")for(g=o.length-1,w=0;g>=0;g-=3)x=o[g]|o[g-1]<<8|o[g-2]<<16,this.words[w]|=x<<E&67108863,this.words[w+1]=x>>>26-E&67108863,E+=24,E>=26&&(E-=26,w++);else if(l==="le")for(g=0,w=0;g<o.length;g+=3)x=o[g]|o[g+1]<<8|o[g+2]<<16,this.words[w]|=x<<E&67108863,this.words[w+1]=x>>>26-E&67108863,E+=24,E>=26&&(E-=26,w++);return this._strip()};function h(p,o){var u=p.charCodeAt(o);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+p)}function c(p,o,u){var l=h(p,u);return u-1>=o&&(l|=h(p,u-1)<<4),l}s.prototype._parseHex=function(o,u,l){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,x=0,E;if(l==="be")for(g=o.length-1;g>=u;g-=2)E=c(o,u,g)<<w,this.words[x]|=E&67108863,w>=18?(w-=18,x+=1,this.words[x]|=E>>>26):w+=8;else{var v=o.length-u;for(g=v%2===0?u+1:u;g<o.length;g+=2)E=c(o,u,g)<<w,this.words[x]|=E&67108863,w>=18?(w-=18,x+=1,this.words[x]|=E>>>26):w+=8}this._strip()};function d(p,o,u,l){for(var g=0,w=0,x=Math.min(p.length,u),E=o;E<x;E++){var v=p.charCodeAt(E)-48;g*=l,v>=49?w=v-49+10:v>=17?w=v-17+10:w=v,i(v>=0&&w<l,"Invalid character"),g+=w}return g}s.prototype._parseBase=function(o,u,l){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=u)g++;g--,w=w/u|0;for(var x=o.length-l,E=x%g,v=Math.min(x,x-E)+l,f=0,y=l;y<v;y+=g)f=d(o,y,y+g,u),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var U=1;for(f=d(o,y,o.length,u),y=0;y<E;y++)U*=u;this.imuln(U),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function m(p,o){p.words=o.words,p.length=o.length,p.negative=o.negative,p.red=o.red}if(s.prototype._move=function(o){m(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{s.prototype.inspect=b}else s.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,u){o=o||10,u=u|0||1;var l;if(o===16||o==="hex"){l="";for(var g=0,w=0,x=0;x<this.length;x++){var E=this.words[x],v=((E<<g|w)&16777215).toString(16);w=E>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),w!==0||x!==this.length-1?l=S[6-v.length]+v+l:l=v+l}for(w!==0&&(l=w.toString(16)+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(o===(o|0)&&o>=2&&o<=36){var f=P[o],y=T[o];l="";var U=this.clone();for(U.negative=0;!U.isZero();){var L=U.modrn(y).toString(o);U=U.idivn(y),U.isZero()?l=L+l:l=S[f-L.length]+L+l}for(this.isZero()&&(l="0"+l);l.length%u!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(o,u){return this.toArrayLike(a,o,u)}),s.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var N=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};s.prototype.toArrayLike=function(o,u,l){this._strip();var g=this.byteLength(),w=l||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var x=N(o,w),E=u==="le"?"LE":"BE";return this["_toArrayLike"+E](x,g),x},s.prototype._toArrayLikeLE=function(o,u){for(var l=0,g=0,w=0,x=0;w<this.length;w++){var E=this.words[w]<<x|g;o[l++]=E&255,l<o.length&&(o[l++]=E>>8&255),l<o.length&&(o[l++]=E>>16&255),x===6?(l<o.length&&(o[l++]=E>>24&255),g=0,x=0):(g=E>>>24,x+=2)}if(l<o.length)for(o[l++]=g;l<o.length;)o[l++]=0},s.prototype._toArrayLikeBE=function(o,u){for(var l=o.length-1,g=0,w=0,x=0;w<this.length;w++){var E=this.words[w]<<x|g;o[l--]=E&255,l>=0&&(o[l--]=E>>8&255),l>=0&&(o[l--]=E>>16&255),x===6?(l>=0&&(o[l--]=E>>24&255),g=0,x=0):(g=E>>>24,x+=2)}if(l>=0)for(o[l--]=g;l>=0;)o[l--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var u=o,l=0;return u>=4096&&(l+=13,u>>>=13),u>=64&&(l+=7,u>>>=7),u>=8&&(l+=4,u>>>=4),u>=2&&(l+=2,u>>>=2),l+u},s.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,l=0;return(u&8191)===0&&(l+=13,u>>>=13),(u&127)===0&&(l+=7,u>>>=7),(u&15)===0&&(l+=4,u>>>=4),(u&3)===0&&(l+=2,u>>>=2),(u&1)===0&&l++,l},s.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function k(p){for(var o=new Array(p.bitLength()),u=0;u<o.length;u++){var l=u/26|0,g=u%26;o[u]=p.words[l]>>>g&1}return o}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var l=this._zeroBits(this.words[u]);if(o+=l,l!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]&o.words[l];return this.length=u.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var g=0;g<l.length;g++)this.words[g]=u.words[g]^l.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,l=o%26;this._expand(u),l>0&&u--;for(var g=0;g<u;g++)this.words[g]=~this.words[g]&67108863;return l>0&&(this.words[g]=~this.words[g]&67108863>>26-l),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var l=o/26|0,g=o%26;return this._expand(l+1),u?this.words[l]=this.words[l]|1<<g:this.words[l]=this.words[l]&~(1<<g),this._strip()},s.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var l,g;this.length>o.length?(l=this,g=o):(l=o,g=this);for(var w=0,x=0;x<g.length;x++)u=(l.words[x]|0)+(g.words[x]|0)+w,this.words[x]=u&67108863,w=u>>>26;for(;w!==0&&x<l.length;x++)u=(l.words[x]|0)+w,this.words[x]=u&67108863,w=u>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;x<l.length;x++)this.words[x]=l.words[x];return this},s.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;l>0?(g=this,w=o):(g=o,w=this);for(var x=0,E=0;E<w.length;E++)u=(g.words[E]|0)-(w.words[E]|0)+x,x=u>>26,this.words[E]=u&67108863;for(;x!==0&&E<g.length;E++)u=(g.words[E]|0)+x,x=u>>26,this.words[E]=u&67108863;if(x===0&&E<g.length&&g!==this)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=Math.max(this.length,E),g!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function F(p,o,u){u.negative=o.negative^p.negative;var l=p.length+o.length|0;u.length=l,l=l-1|0;var g=p.words[0]|0,w=o.words[0]|0,x=g*w,E=x&67108863,v=x/67108864|0;u.words[0]=E;for(var f=1;f<l;f++){for(var y=v>>>26,U=v&67108863,L=Math.min(f,o.length-1),$=Math.max(0,f-p.length+1);$<=L;$++){var We=f-$|0;g=p.words[We]|0,w=o.words[$]|0,x=g*w+U,y+=x/67108864|0,U=x&67108863}u.words[f]=U|0,v=y|0}return v!==0?u.words[f]=v|0:u.length--,u._strip()}var ee=function(o,u,l){var g=o.words,w=u.words,x=l.words,E=0,v,f,y,U=g[0]|0,L=U&8191,$=U>>>13,We=g[1]|0,Q=We&8191,te=We>>>13,Vn=g[2]|0,se=Vn&8191,oe=Vn>>>13,Wn=g[3]|0,ae=Wn&8191,fe=Wn>>>13,Jn=g[4]|0,ue=Jn&8191,he=Jn>>>13,Zn=g[5]|0,ce=Zn&8191,le=Zn>>>13,Xn=g[6]|0,de=Xn&8191,pe=Xn>>>13,Yn=g[7]|0,ge=Yn&8191,me=Yn>>>13,Qn=g[8]|0,ve=Qn&8191,ye=Qn>>>13,es=g[9]|0,we=es&8191,be=es>>>13,ts=w[0]|0,xe=ts&8191,Ae=ts>>>13,rs=w[1]|0,Ee=rs&8191,Se=rs>>>13,is=w[2]|0,_e=is&8191,Me=is>>>13,ns=w[3]|0,Pe=ns&8191,Te=ns>>>13,ss=w[4]|0,Ne=ss&8191,Ce=ss>>>13,os=w[5]|0,Be=os&8191,Ie=os>>>13,as=w[6]|0,ke=as&8191,Re=as>>>13,fs=w[7]|0,Oe=fs&8191,Fe=fs>>>13,us=w[8]|0,Le=us&8191,De=us>>>13,hs=w[9]|0,Ue=hs&8191,Ge=hs>>>13;l.negative=o.negative^u.negative,l.length=19,v=Math.imul(L,xe),f=Math.imul(L,Ae),f=f+Math.imul($,xe)|0,y=Math.imul($,Ae);var Ci=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,v=Math.imul(Q,xe),f=Math.imul(Q,Ae),f=f+Math.imul(te,xe)|0,y=Math.imul(te,Ae),v=v+Math.imul(L,Ee)|0,f=f+Math.imul(L,Se)|0,f=f+Math.imul($,Ee)|0,y=y+Math.imul($,Se)|0;var Bi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,v=Math.imul(se,xe),f=Math.imul(se,Ae),f=f+Math.imul(oe,xe)|0,y=Math.imul(oe,Ae),v=v+Math.imul(Q,Ee)|0,f=f+Math.imul(Q,Se)|0,f=f+Math.imul(te,Ee)|0,y=y+Math.imul(te,Se)|0,v=v+Math.imul(L,_e)|0,f=f+Math.imul(L,Me)|0,f=f+Math.imul($,_e)|0,y=y+Math.imul($,Me)|0;var Ii=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,v=Math.imul(ae,xe),f=Math.imul(ae,Ae),f=f+Math.imul(fe,xe)|0,y=Math.imul(fe,Ae),v=v+Math.imul(se,Ee)|0,f=f+Math.imul(se,Se)|0,f=f+Math.imul(oe,Ee)|0,y=y+Math.imul(oe,Se)|0,v=v+Math.imul(Q,_e)|0,f=f+Math.imul(Q,Me)|0,f=f+Math.imul(te,_e)|0,y=y+Math.imul(te,Me)|0,v=v+Math.imul(L,Pe)|0,f=f+Math.imul(L,Te)|0,f=f+Math.imul($,Pe)|0,y=y+Math.imul($,Te)|0;var ki=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(ki>>>26)|0,ki&=67108863,v=Math.imul(ue,xe),f=Math.imul(ue,Ae),f=f+Math.imul(he,xe)|0,y=Math.imul(he,Ae),v=v+Math.imul(ae,Ee)|0,f=f+Math.imul(ae,Se)|0,f=f+Math.imul(fe,Ee)|0,y=y+Math.imul(fe,Se)|0,v=v+Math.imul(se,_e)|0,f=f+Math.imul(se,Me)|0,f=f+Math.imul(oe,_e)|0,y=y+Math.imul(oe,Me)|0,v=v+Math.imul(Q,Pe)|0,f=f+Math.imul(Q,Te)|0,f=f+Math.imul(te,Pe)|0,y=y+Math.imul(te,Te)|0,v=v+Math.imul(L,Ne)|0,f=f+Math.imul(L,Ce)|0,f=f+Math.imul($,Ne)|0,y=y+Math.imul($,Ce)|0;var Ri=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,v=Math.imul(ce,xe),f=Math.imul(ce,Ae),f=f+Math.imul(le,xe)|0,y=Math.imul(le,Ae),v=v+Math.imul(ue,Ee)|0,f=f+Math.imul(ue,Se)|0,f=f+Math.imul(he,Ee)|0,y=y+Math.imul(he,Se)|0,v=v+Math.imul(ae,_e)|0,f=f+Math.imul(ae,Me)|0,f=f+Math.imul(fe,_e)|0,y=y+Math.imul(fe,Me)|0,v=v+Math.imul(se,Pe)|0,f=f+Math.imul(se,Te)|0,f=f+Math.imul(oe,Pe)|0,y=y+Math.imul(oe,Te)|0,v=v+Math.imul(Q,Ne)|0,f=f+Math.imul(Q,Ce)|0,f=f+Math.imul(te,Ne)|0,y=y+Math.imul(te,Ce)|0,v=v+Math.imul(L,Be)|0,f=f+Math.imul(L,Ie)|0,f=f+Math.imul($,Be)|0,y=y+Math.imul($,Ie)|0;var Oi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,v=Math.imul(de,xe),f=Math.imul(de,Ae),f=f+Math.imul(pe,xe)|0,y=Math.imul(pe,Ae),v=v+Math.imul(ce,Ee)|0,f=f+Math.imul(ce,Se)|0,f=f+Math.imul(le,Ee)|0,y=y+Math.imul(le,Se)|0,v=v+Math.imul(ue,_e)|0,f=f+Math.imul(ue,Me)|0,f=f+Math.imul(he,_e)|0,y=y+Math.imul(he,Me)|0,v=v+Math.imul(ae,Pe)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(fe,Pe)|0,y=y+Math.imul(fe,Te)|0,v=v+Math.imul(se,Ne)|0,f=f+Math.imul(se,Ce)|0,f=f+Math.imul(oe,Ne)|0,y=y+Math.imul(oe,Ce)|0,v=v+Math.imul(Q,Be)|0,f=f+Math.imul(Q,Ie)|0,f=f+Math.imul(te,Be)|0,y=y+Math.imul(te,Ie)|0,v=v+Math.imul(L,ke)|0,f=f+Math.imul(L,Re)|0,f=f+Math.imul($,ke)|0,y=y+Math.imul($,Re)|0;var Fi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,v=Math.imul(ge,xe),f=Math.imul(ge,Ae),f=f+Math.imul(me,xe)|0,y=Math.imul(me,Ae),v=v+Math.imul(de,Ee)|0,f=f+Math.imul(de,Se)|0,f=f+Math.imul(pe,Ee)|0,y=y+Math.imul(pe,Se)|0,v=v+Math.imul(ce,_e)|0,f=f+Math.imul(ce,Me)|0,f=f+Math.imul(le,_e)|0,y=y+Math.imul(le,Me)|0,v=v+Math.imul(ue,Pe)|0,f=f+Math.imul(ue,Te)|0,f=f+Math.imul(he,Pe)|0,y=y+Math.imul(he,Te)|0,v=v+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ce)|0,f=f+Math.imul(fe,Ne)|0,y=y+Math.imul(fe,Ce)|0,v=v+Math.imul(se,Be)|0,f=f+Math.imul(se,Ie)|0,f=f+Math.imul(oe,Be)|0,y=y+Math.imul(oe,Ie)|0,v=v+Math.imul(Q,ke)|0,f=f+Math.imul(Q,Re)|0,f=f+Math.imul(te,ke)|0,y=y+Math.imul(te,Re)|0,v=v+Math.imul(L,Oe)|0,f=f+Math.imul(L,Fe)|0,f=f+Math.imul($,Oe)|0,y=y+Math.imul($,Fe)|0;var Li=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Li>>>26)|0,Li&=67108863,v=Math.imul(ve,xe),f=Math.imul(ve,Ae),f=f+Math.imul(ye,xe)|0,y=Math.imul(ye,Ae),v=v+Math.imul(ge,Ee)|0,f=f+Math.imul(ge,Se)|0,f=f+Math.imul(me,Ee)|0,y=y+Math.imul(me,Se)|0,v=v+Math.imul(de,_e)|0,f=f+Math.imul(de,Me)|0,f=f+Math.imul(pe,_e)|0,y=y+Math.imul(pe,Me)|0,v=v+Math.imul(ce,Pe)|0,f=f+Math.imul(ce,Te)|0,f=f+Math.imul(le,Pe)|0,y=y+Math.imul(le,Te)|0,v=v+Math.imul(ue,Ne)|0,f=f+Math.imul(ue,Ce)|0,f=f+Math.imul(he,Ne)|0,y=y+Math.imul(he,Ce)|0,v=v+Math.imul(ae,Be)|0,f=f+Math.imul(ae,Ie)|0,f=f+Math.imul(fe,Be)|0,y=y+Math.imul(fe,Ie)|0,v=v+Math.imul(se,ke)|0,f=f+Math.imul(se,Re)|0,f=f+Math.imul(oe,ke)|0,y=y+Math.imul(oe,Re)|0,v=v+Math.imul(Q,Oe)|0,f=f+Math.imul(Q,Fe)|0,f=f+Math.imul(te,Oe)|0,y=y+Math.imul(te,Fe)|0,v=v+Math.imul(L,Le)|0,f=f+Math.imul(L,De)|0,f=f+Math.imul($,Le)|0,y=y+Math.imul($,De)|0;var Di=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Di>>>26)|0,Di&=67108863,v=Math.imul(we,xe),f=Math.imul(we,Ae),f=f+Math.imul(be,xe)|0,y=Math.imul(be,Ae),v=v+Math.imul(ve,Ee)|0,f=f+Math.imul(ve,Se)|0,f=f+Math.imul(ye,Ee)|0,y=y+Math.imul(ye,Se)|0,v=v+Math.imul(ge,_e)|0,f=f+Math.imul(ge,Me)|0,f=f+Math.imul(me,_e)|0,y=y+Math.imul(me,Me)|0,v=v+Math.imul(de,Pe)|0,f=f+Math.imul(de,Te)|0,f=f+Math.imul(pe,Pe)|0,y=y+Math.imul(pe,Te)|0,v=v+Math.imul(ce,Ne)|0,f=f+Math.imul(ce,Ce)|0,f=f+Math.imul(le,Ne)|0,y=y+Math.imul(le,Ce)|0,v=v+Math.imul(ue,Be)|0,f=f+Math.imul(ue,Ie)|0,f=f+Math.imul(he,Be)|0,y=y+Math.imul(he,Ie)|0,v=v+Math.imul(ae,ke)|0,f=f+Math.imul(ae,Re)|0,f=f+Math.imul(fe,ke)|0,y=y+Math.imul(fe,Re)|0,v=v+Math.imul(se,Oe)|0,f=f+Math.imul(se,Fe)|0,f=f+Math.imul(oe,Oe)|0,y=y+Math.imul(oe,Fe)|0,v=v+Math.imul(Q,Le)|0,f=f+Math.imul(Q,De)|0,f=f+Math.imul(te,Le)|0,y=y+Math.imul(te,De)|0,v=v+Math.imul(L,Ue)|0,f=f+Math.imul(L,Ge)|0,f=f+Math.imul($,Ue)|0,y=y+Math.imul($,Ge)|0;var Ui=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,v=Math.imul(we,Ee),f=Math.imul(we,Se),f=f+Math.imul(be,Ee)|0,y=Math.imul(be,Se),v=v+Math.imul(ve,_e)|0,f=f+Math.imul(ve,Me)|0,f=f+Math.imul(ye,_e)|0,y=y+Math.imul(ye,Me)|0,v=v+Math.imul(ge,Pe)|0,f=f+Math.imul(ge,Te)|0,f=f+Math.imul(me,Pe)|0,y=y+Math.imul(me,Te)|0,v=v+Math.imul(de,Ne)|0,f=f+Math.imul(de,Ce)|0,f=f+Math.imul(pe,Ne)|0,y=y+Math.imul(pe,Ce)|0,v=v+Math.imul(ce,Be)|0,f=f+Math.imul(ce,Ie)|0,f=f+Math.imul(le,Be)|0,y=y+Math.imul(le,Ie)|0,v=v+Math.imul(ue,ke)|0,f=f+Math.imul(ue,Re)|0,f=f+Math.imul(he,ke)|0,y=y+Math.imul(he,Re)|0,v=v+Math.imul(ae,Oe)|0,f=f+Math.imul(ae,Fe)|0,f=f+Math.imul(fe,Oe)|0,y=y+Math.imul(fe,Fe)|0,v=v+Math.imul(se,Le)|0,f=f+Math.imul(se,De)|0,f=f+Math.imul(oe,Le)|0,y=y+Math.imul(oe,De)|0,v=v+Math.imul(Q,Ue)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(te,Ue)|0,y=y+Math.imul(te,Ge)|0;var Gi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,v=Math.imul(we,_e),f=Math.imul(we,Me),f=f+Math.imul(be,_e)|0,y=Math.imul(be,Me),v=v+Math.imul(ve,Pe)|0,f=f+Math.imul(ve,Te)|0,f=f+Math.imul(ye,Pe)|0,y=y+Math.imul(ye,Te)|0,v=v+Math.imul(ge,Ne)|0,f=f+Math.imul(ge,Ce)|0,f=f+Math.imul(me,Ne)|0,y=y+Math.imul(me,Ce)|0,v=v+Math.imul(de,Be)|0,f=f+Math.imul(de,Ie)|0,f=f+Math.imul(pe,Be)|0,y=y+Math.imul(pe,Ie)|0,v=v+Math.imul(ce,ke)|0,f=f+Math.imul(ce,Re)|0,f=f+Math.imul(le,ke)|0,y=y+Math.imul(le,Re)|0,v=v+Math.imul(ue,Oe)|0,f=f+Math.imul(ue,Fe)|0,f=f+Math.imul(he,Oe)|0,y=y+Math.imul(he,Fe)|0,v=v+Math.imul(ae,Le)|0,f=f+Math.imul(ae,De)|0,f=f+Math.imul(fe,Le)|0,y=y+Math.imul(fe,De)|0,v=v+Math.imul(se,Ue)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(oe,Ue)|0,y=y+Math.imul(oe,Ge)|0;var $i=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+($i>>>26)|0,$i&=67108863,v=Math.imul(we,Pe),f=Math.imul(we,Te),f=f+Math.imul(be,Pe)|0,y=Math.imul(be,Te),v=v+Math.imul(ve,Ne)|0,f=f+Math.imul(ve,Ce)|0,f=f+Math.imul(ye,Ne)|0,y=y+Math.imul(ye,Ce)|0,v=v+Math.imul(ge,Be)|0,f=f+Math.imul(ge,Ie)|0,f=f+Math.imul(me,Be)|0,y=y+Math.imul(me,Ie)|0,v=v+Math.imul(de,ke)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(pe,ke)|0,y=y+Math.imul(pe,Re)|0,v=v+Math.imul(ce,Oe)|0,f=f+Math.imul(ce,Fe)|0,f=f+Math.imul(le,Oe)|0,y=y+Math.imul(le,Fe)|0,v=v+Math.imul(ue,Le)|0,f=f+Math.imul(ue,De)|0,f=f+Math.imul(he,Le)|0,y=y+Math.imul(he,De)|0,v=v+Math.imul(ae,Ue)|0,f=f+Math.imul(ae,Ge)|0,f=f+Math.imul(fe,Ue)|0,y=y+Math.imul(fe,Ge)|0;var Ki=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,v=Math.imul(we,Ne),f=Math.imul(we,Ce),f=f+Math.imul(be,Ne)|0,y=Math.imul(be,Ce),v=v+Math.imul(ve,Be)|0,f=f+Math.imul(ve,Ie)|0,f=f+Math.imul(ye,Be)|0,y=y+Math.imul(ye,Ie)|0,v=v+Math.imul(ge,ke)|0,f=f+Math.imul(ge,Re)|0,f=f+Math.imul(me,ke)|0,y=y+Math.imul(me,Re)|0,v=v+Math.imul(de,Oe)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(pe,Oe)|0,y=y+Math.imul(pe,Fe)|0,v=v+Math.imul(ce,Le)|0,f=f+Math.imul(ce,De)|0,f=f+Math.imul(le,Le)|0,y=y+Math.imul(le,De)|0,v=v+Math.imul(ue,Ue)|0,f=f+Math.imul(ue,Ge)|0,f=f+Math.imul(he,Ue)|0,y=y+Math.imul(he,Ge)|0;var zi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(zi>>>26)|0,zi&=67108863,v=Math.imul(we,Be),f=Math.imul(we,Ie),f=f+Math.imul(be,Be)|0,y=Math.imul(be,Ie),v=v+Math.imul(ve,ke)|0,f=f+Math.imul(ve,Re)|0,f=f+Math.imul(ye,ke)|0,y=y+Math.imul(ye,Re)|0,v=v+Math.imul(ge,Oe)|0,f=f+Math.imul(ge,Fe)|0,f=f+Math.imul(me,Oe)|0,y=y+Math.imul(me,Fe)|0,v=v+Math.imul(de,Le)|0,f=f+Math.imul(de,De)|0,f=f+Math.imul(pe,Le)|0,y=y+Math.imul(pe,De)|0,v=v+Math.imul(ce,Ue)|0,f=f+Math.imul(ce,Ge)|0,f=f+Math.imul(le,Ue)|0,y=y+Math.imul(le,Ge)|0;var Hi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,v=Math.imul(we,ke),f=Math.imul(we,Re),f=f+Math.imul(be,ke)|0,y=Math.imul(be,Re),v=v+Math.imul(ve,Oe)|0,f=f+Math.imul(ve,Fe)|0,f=f+Math.imul(ye,Oe)|0,y=y+Math.imul(ye,Fe)|0,v=v+Math.imul(ge,Le)|0,f=f+Math.imul(ge,De)|0,f=f+Math.imul(me,Le)|0,y=y+Math.imul(me,De)|0,v=v+Math.imul(de,Ue)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(pe,Ue)|0,y=y+Math.imul(pe,Ge)|0;var ji=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,v=Math.imul(we,Oe),f=Math.imul(we,Fe),f=f+Math.imul(be,Oe)|0,y=Math.imul(be,Fe),v=v+Math.imul(ve,Le)|0,f=f+Math.imul(ve,De)|0,f=f+Math.imul(ye,Le)|0,y=y+Math.imul(ye,De)|0,v=v+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,Ge)|0,f=f+Math.imul(me,Ue)|0,y=y+Math.imul(me,Ge)|0;var qi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(qi>>>26)|0,qi&=67108863,v=Math.imul(we,Le),f=Math.imul(we,De),f=f+Math.imul(be,Le)|0,y=Math.imul(be,De),v=v+Math.imul(ve,Ue)|0,f=f+Math.imul(ve,Ge)|0,f=f+Math.imul(ye,Ue)|0,y=y+Math.imul(ye,Ge)|0;var Vi=(E+v|0)+((f&8191)<<13)|0;E=(y+(f>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,v=Math.imul(we,Ue),f=Math.imul(we,Ge),f=f+Math.imul(be,Ue)|0,y=Math.imul(be,Ge);var Wi=(E+v|0)+((f&8191)<<13)|0;return E=(y+(f>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,x[0]=Ci,x[1]=Bi,x[2]=Ii,x[3]=ki,x[4]=Ri,x[5]=Oi,x[6]=Fi,x[7]=Li,x[8]=Di,x[9]=Ui,x[10]=Gi,x[11]=$i,x[12]=Ki,x[13]=zi,x[14]=Hi,x[15]=ji,x[16]=qi,x[17]=Vi,x[18]=Wi,E!==0&&(x[19]=E,l.length++),l};Math.imul||(ee=F);function Ke(p,o,u){u.negative=o.negative^p.negative,u.length=p.length+o.length;for(var l=0,g=0,w=0;w<u.length-1;w++){var x=g;g=0;for(var E=l&67108863,v=Math.min(w,o.length-1),f=Math.max(0,w-p.length+1);f<=v;f++){var y=w-f,U=p.words[y]|0,L=o.words[f]|0,$=U*L,We=$&67108863;x=x+($/67108864|0)|0,We=We+E|0,E=We&67108863,x=x+(We>>>26)|0,g+=x>>>26,x&=67108863}u.words[w]=E,l=x,x=g}return l!==0?u.words[w]=l:u.length--,u._strip()}function R(p,o,u){return Ke(p,o,u)}s.prototype.mulTo=function(o,u){var l,g=this.length+o.length;return this.length===10&&o.length===10?l=ee(this,o,u):g<63?l=F(this,o,u):g<1024?l=Ke(this,o,u):l=R(this,o,u),l},s.prototype.mul=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},s.prototype.mulf=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),R(this,o,u)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var u=o<0;u&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var l=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*o,x=(w&67108863)+(l&67108863);l>>=26,l+=w/67108864|0,l+=x>>>26,this.words[g]=x&67108863}return l!==0&&(this.words[g]=l,this.length++),u?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var u=k(o);if(u.length===0)return new s(1);for(var l=this,g=0;g<u.length&&u[g]===0;g++,l=l.sqr());if(++g<u.length)for(var w=l.sqr();g<u.length;g++,w=w.sqr())u[g]!==0&&(l=l.mul(w));return l},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,g=67108863>>>26-u<<26-u,w;if(u!==0){var x=0;for(w=0;w<this.length;w++){var E=this.words[w]&g,v=(this.words[w]|0)-E<<u;this.words[w]=v|x,x=E>>>26-u}x&&(this.words[w]=x,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,u,l){i(typeof o=="number"&&o>=0);var g;u?g=(u-u%26)/26:g=0;var w=o%26,x=Math.min((o-w)/26,this.length),E=67108863^67108863>>>w<<w,v=l;if(g-=x,g=Math.max(0,g),v){for(var f=0;f<x;f++)v.words[f]=this.words[f];v.length=x}if(x!==0)if(this.length>x)for(this.length-=x,f=0;f<this.length;f++)this.words[f]=this.words[f+x];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=g);f--){var U=this.words[f]|0;this.words[f]=y<<26-w|U>>>w,y=U&E}return v&&y!==0&&(v.words[v.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,u,l){return i(this.negative===0),this.iushrn(o,u,l)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26,g=1<<u;if(this.length<=l)return!1;var w=this.words[l];return!!(w&g)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,l=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(u!==0&&l++,this.length=Math.min(l,this.length),u!==0){var g=67108863^67108863>>>u<<u;this.words[this.length-1]&=g}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,u,l){var g=o.length+l,w;this._expand(g);var x,E=0;for(w=0;w<o.length;w++){x=(this.words[w+l]|0)+E;var v=(o.words[w]|0)*u;x-=v&67108863,E=(x>>26)-(v/67108864|0),this.words[w+l]=x&67108863}for(;w<this.length-l;w++)x=(this.words[w+l]|0)+E,E=x>>26,this.words[w+l]=x&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,w=0;w<this.length;w++)x=-(this.words[w]|0)+E,E=x>>26,this.words[w]=x&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,u){var l=this.length-o.length,g=this.clone(),w=o,x=w.words[w.length-1]|0,E=this._countBits(x);l=26-E,l!==0&&(w=w.ushln(l),g.iushln(l),x=w.words[w.length-1]|0);var v=g.length-w.length,f;if(u!=="mod"){f=new s(null),f.length=v+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var U=g.clone()._ishlnsubmul(w,1,v);U.negative===0&&(g=U,f&&(f.words[v]=1));for(var L=v-1;L>=0;L--){var $=(g.words[w.length+L]|0)*67108864+(g.words[w.length+L-1]|0);for($=Math.min($/x|0,67108863),g._ishlnsubmul(w,$,L);g.negative!==0;)$--,g.negative=0,g._ishlnsubmul(w,1,L),g.isZero()||(g.negative^=1);f&&(f.words[L]=$)}return f&&f._strip(),g._strip(),u!=="div"&&l!==0&&g.iushrn(l),{div:f||null,mod:g}},s.prototype.divmod=function(o,u,l){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var g,w,x;return this.negative!==0&&o.negative===0?(x=this.neg().divmod(o,u),u!=="mod"&&(g=x.div.neg()),u!=="div"&&(w=x.mod.neg(),l&&w.negative!==0&&w.iadd(o)),{div:g,mod:w}):this.negative===0&&o.negative!==0?(x=this.divmod(o.neg(),u),u!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):(this.negative&o.negative)!==0?(x=this.neg().divmod(o.neg(),u),u!=="div"&&(w=x.mod.neg(),l&&w.negative!==0&&w.isub(o)),{div:x.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,u)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var l=u.div.negative!==0?u.mod.isub(o):u.mod,g=o.ushrn(1),w=o.andln(1),x=l.cmp(g);return x<0||w===1&&x===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var l=(1<<26)%o,g=0,w=this.length-1;w>=0;w--)g=(l*g+(this.words[w]|0))%o;return u?-g:g},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var l=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+l*67108864;this.words[g]=w/o|0,l=w%o}return this._strip(),u?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var g=new s(1),w=new s(0),x=new s(0),E=new s(1),v=0;u.isEven()&&l.isEven();)u.iushrn(1),l.iushrn(1),++v;for(var f=l.clone(),y=u.clone();!u.isZero();){for(var U=0,L=1;(u.words[0]&L)===0&&U<26;++U,L<<=1);if(U>0)for(u.iushrn(U);U-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(y)),g.iushrn(1),w.iushrn(1);for(var $=0,We=1;(l.words[0]&We)===0&&$<26;++$,We<<=1);if($>0)for(l.iushrn($);$-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(f),E.isub(y)),x.iushrn(1),E.iushrn(1);u.cmp(l)>=0?(u.isub(l),g.isub(x),w.isub(E)):(l.isub(u),x.isub(g),E.isub(w))}return{a:x,b:E,gcd:l.iushln(v)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,l=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var g=new s(1),w=new s(0),x=l.clone();u.cmpn(1)>0&&l.cmpn(1)>0;){for(var E=0,v=1;(u.words[0]&v)===0&&E<26;++E,v<<=1);if(E>0)for(u.iushrn(E);E-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var f=0,y=1;(l.words[0]&y)===0&&f<26;++f,y<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);u.cmp(l)>=0?(u.isub(l),g.isub(w)):(l.isub(u),w.isub(g))}var U;return u.cmpn(1)===0?U=g:U=w,U.cmpn(0)<0&&U.iadd(o),U},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),l=o.clone();u.negative=0,l.negative=0;for(var g=0;u.isEven()&&l.isEven();g++)u.iushrn(1),l.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=u.cmp(l);if(w<0){var x=u;u=l,l=x}else if(w===0||l.cmpn(1)===0)break;u.isub(l)}while(!0);return l.iushln(g)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,l=(o-u)/26,g=1<<u;if(this.length<=l)return this._expand(l+1),this.words[l]|=g,this;for(var w=g,x=l;w!==0&&x<this.length;x++){var E=this.words[x]|0;E+=w,w=E>>>26,E&=67108863,this.words[x]=E}return w!==0&&(this.words[x]=w,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var l;if(this.length>1)l=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var g=this.words[0]|0;l=g===o?0:g<o?-1:1}return this.negative!==0?-l|0:l},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,l=this.length-1;l>=0;l--){var g=this.words[l]|0,w=o.words[l]|0;if(g!==w){g<w?u=-1:g>w&&(u=1);break}}return u},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new A(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var D={k256:null,p224:null,p192:null,p25519:null};function W(p,o){this.name=p,this.p=new s(o,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},W.prototype.ireduce=function(o){var u=o,l;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),l=u.bitLength();while(l>this.n);var g=l<this.n?-1:u.ucmp(this.p);return g===0?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},W.prototype.split=function(o,u){o.iushrn(this.n,0,u)},W.prototype.imulK=function(o){return o.imul(this.k)};function Ye(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Ye,W),Ye.prototype.split=function(o,u){for(var l=4194303,g=Math.min(o.length,9),w=0;w<g;w++)u.words[w]=o.words[w];if(u.length=g,o.length<=9){o.words[0]=0,o.length=1;return}var x=o.words[9];for(u.words[u.length++]=x&l,w=10;w<o.length;w++){var E=o.words[w]|0;o.words[w-10]=(E&l)<<4|x>>>22,x=E}x>>>=22,o.words[w-10]=x,x===0&&o.length>10?o.length-=10:o.length-=9},Ye.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,l=0;l<o.length;l++){var g=o.words[l]|0;u+=g*977,o.words[l]=u&67108863,u=g*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function st(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(st,W);function Ve(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Ve,W);function B(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(B,W),B.prototype.imulK=function(o){for(var u=0,l=0;l<o.length;l++){var g=(o.words[l]|0)*19+u,w=g&67108863;g>>>=26,o.words[l]=w,u=g}return u!==0&&(o.words[o.length++]=u),o},s._prime=function(o){if(D[o])return D[o];var u;if(o==="k256")u=new Ye;else if(o==="p224")u=new st;else if(o==="p192")u=new Ve;else if(o==="p25519")u=new B;else throw new Error("Unknown prime "+o);return D[o]=u,u};function A(p){if(typeof p=="string"){var o=s._prime(p);this.m=o.p,this.prime=o}else i(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}A.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},A.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},A.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(m(o,o.umod(this.m)._forceRed(this)),o)},A.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},A.prototype.add=function(o,u){this._verify2(o,u);var l=o.add(u);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},A.prototype.iadd=function(o,u){this._verify2(o,u);var l=o.iadd(u);return l.cmp(this.m)>=0&&l.isub(this.m),l},A.prototype.sub=function(o,u){this._verify2(o,u);var l=o.sub(u);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},A.prototype.isub=function(o,u){this._verify2(o,u);var l=o.isub(u);return l.cmpn(0)<0&&l.iadd(this.m),l},A.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},A.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},A.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},A.prototype.isqr=function(o){return this.imul(o,o.clone())},A.prototype.sqr=function(o){return this.mul(o,o)},A.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var l=this.m.add(new s(1)).iushrn(2);return this.pow(o,l)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var x=new s(1).toRed(this),E=x.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,v).cmp(E)!==0;)f.redIAdd(E);for(var y=this.pow(f,g),U=this.pow(o,g.addn(1).iushrn(1)),L=this.pow(o,g),$=w;L.cmp(x)!==0;){for(var We=L,Q=0;We.cmp(x)!==0;Q++)We=We.redSqr();i(Q<$);var te=this.pow(y,new s(1).iushln($-Q-1));U=U.redMul(te),y=te.redSqr(),L=L.redMul(y),$=Q}return U},A.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},A.prototype.pow=function(o,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var l=4,g=new Array(1<<l);g[0]=new s(1).toRed(this),g[1]=o;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],o);var x=g[0],E=0,v=0,f=u.bitLength()%26;for(f===0&&(f=26),w=u.length-1;w>=0;w--){for(var y=u.words[w],U=f-1;U>=0;U--){var L=y>>U&1;if(x!==g[0]&&(x=this.sqr(x)),L===0&&E===0){v=0;continue}E<<=1,E|=L,v++,!(v!==l&&(w!==0||U!==0))&&(x=this.mul(x,g[E]),v=0,E=0)}f=26}return x},A.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},A.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},s.mont=function(o){return new I(o)};function I(p){A.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(I,A),I.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},I.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},I.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var l=o.imul(u),g=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(g).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},I.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new s(0)._forceRed(this);var l=o.mul(u),g=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(g).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},I.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,X)})(Pn);var G=Pn.exports;const Qo="bignumber/5.6.2";var ii=G.BN;const Rt=new M(Qo),Zi={},cs=9007199254740991;let ls=!1;class q{constructor(e,t){e!==Zi&&Rt.throwError("cannot call constructor directly; use BigNumber.from",M.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Qe(K(this).fromTwos(e))}toTwos(e){return Qe(K(this).toTwos(e))}abs(){return this._hex[0]==="-"?q.from(this._hex.substring(1)):this}add(e){return Qe(K(this).add(K(e)))}sub(e){return Qe(K(this).sub(K(e)))}div(e){return q.from(e).isZero()&&lt("division-by-zero","div"),Qe(K(this).div(K(e)))}mul(e){return Qe(K(this).mul(K(e)))}mod(e){const t=K(e);return t.isNeg()&&lt("division-by-zero","mod"),Qe(K(this).umod(t))}pow(e){const t=K(e);return t.isNeg()&&lt("negative-power","pow"),Qe(K(this).pow(t))}and(e){const t=K(e);return(this.isNegative()||t.isNeg())&&lt("unbound-bitwise-result","and"),Qe(K(this).and(t))}or(e){const t=K(e);return(this.isNegative()||t.isNeg())&&lt("unbound-bitwise-result","or"),Qe(K(this).or(t))}xor(e){const t=K(e);return(this.isNegative()||t.isNeg())&&lt("unbound-bitwise-result","xor"),Qe(K(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&lt("negative-width","mask"),Qe(K(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&lt("negative-width","shl"),Qe(K(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&lt("negative-width","shr"),Qe(K(this).shrn(e))}eq(e){return K(this).eq(K(e))}lt(e){return K(this).lt(K(e))}lte(e){return K(this).lte(K(e))}gt(e){return K(this).gt(K(e))}gte(e){return K(this).gte(K(e))}isNegative(){return this._hex[0]==="-"}isZero(){return K(this).isZero()}toNumber(){try{return K(this).toNumber()}catch{lt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Rt.throwError("this platform does not support BigInt",M.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ls||(ls=!0,Rt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Rt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",M.errors.UNEXPECTED_ARGUMENT,{}):Rt.throwError("BigNumber.toString does not accept parameters",M.errors.UNEXPECTED_ARGUMENT,{})),K(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof q)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new q(Zi,Tr(e)):e.match(/^-?[0-9]+$/)?new q(Zi,Tr(new ii(e))):Rt.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&lt("underflow","BigNumber.from",e),(e>=cs||e<=-cs)&&lt("overflow","BigNumber.from",e),q.from(String(e));const t=e;if(typeof t=="bigint")return q.from(t.toString());if(gi(t))return q.from(O(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return q.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(je(i)||i[0]==="-"&&je(i.substring(1))))return q.from(i)}return Rt.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Tr(r){if(typeof r!="string")return Tr(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Rt.throwArgumentError("invalid hex","value",r),r=Tr(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Qe(r){return q.from(Tr(r))}function K(r){const e=q.from(r).toHexString();return e[0]==="-"?new ii("-"+e.substring(3),16):new ii(e.substring(2),16)}function lt(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),Rt.throwError(r,M.errors.NUMERIC_FAULT,i)}function ea(r){return new ii(r,36).toString(16)}const $r="abi/5.6.3",j=new M($r),nr={};let ds={calldata:!0,memory:!0,storage:!0},ta={calldata:!0,memory:!0};function Hr(r,e){if(r==="bytes"||r==="string"){if(ds[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&ta[e])return!0;return(ds[e]||e==="payable")&&j.throwArgumentError("invalid modifier","name",e),!1}function ra(r,e){let t=r;function i(h){j.throwArgumentError(`unexpected character at position ${h}`,"param",r)}r=r.replace(/\s/g," ");function n(h){let c={type:"",name:"",parent:h,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},a=s;for(let h=0;h<r.length;h++){let c=r[h];switch(c){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||i(h),a.state.allowType=!1,a.type=ur(a.type),a.components=[n(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||i(h),a.indexed=!0,a.name=""),Hr(a.type,a.name)&&(a.name=""),a.type=ur(a.type);let d=a;a=a.parent,a||i(h),delete d.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||i(h),a.indexed=!0,a.name=""),Hr(a.type,a.name)&&(a.name=""),a.type=ur(a.type);let m=n(a.parent);a.parent.components.push(m),delete a.parent,a=m;break;case" ":a.state.allowType&&a.type!==""&&(a.type=ur(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||i(h),a.indexed&&i(h),a.indexed=!0,a.name=""):Hr(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||i(h),a.type+=c,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||i(h),a.type+=c,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=c,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=c,delete a.state.allowArray):a.state.readArray?a.type+=c:i(h)}}return a.parent&&j.throwArgumentError("unexpected eof","param",r),delete s.state,a.name==="indexed"?(e||i(t.length-7),a.indexed&&i(t.length-7),a.indexed=!0,a.name=""):Hr(a.type,a.name)&&(a.name=""),s.type=ur(s.type),s}function Yr(r,e){for(let t in e)_(r,t,e[t])}const V=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ia=new RegExp(/^(.*)\[([0-9]*)\]$/);class ze{constructor(e,t){e!==nr&&j.throwError("use fromString",M.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Yr(this,t);let i=this.type.match(ia);i?Yr(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:ze.fromObject({type:i[1],components:this.components}),baseType:"array"}):Yr(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=V.sighash),V[e]||j.throwArgumentError("invalid format type","format",e),e===V.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(n=>JSON.parse(n.format(e)))),JSON.stringify(i)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==V.sighash&&(t+=this.type),t+="("+this.components.map(i=>i.format(e)).join(e===V.full?", ":",")+")"):t+=this.type,e!==V.sighash&&(this.indexed===!0&&(t+=" indexed"),e===V.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?ze.fromString(e,t):ze.fromObject(e)}static fromObject(e){return ze.isParamType(e)?e:new ze(nr,{name:e.name||null,type:ur(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ze.fromObject):null})}static fromString(e,t){function i(n){return ze.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components})}return i(ra(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Nr(r,e){return sa(r).map(t=>ze.fromString(t,e))}class Ut{constructor(e,t){e!==nr&&j.throwError("use a static from method",M.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Yr(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Ut.isFragment(e)?e:typeof e=="string"?Ut.fromString(e):Ut.fromObject(e)}static fromObject(e){if(Ut.isFragment(e))return e;switch(e.type){case"function":return Bt.fromObject(e);case"event":return Dt.fromObject(e);case"constructor":return Ct.fromObject(e);case"error":return qt.fromObject(e);case"fallback":case"receive":return null}return j.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Dt.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Bt.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ct.fromString(e.trim()):e.split(" ")[0]==="error"?qt.fromString(e.substring(5).trim()):j.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Dt extends Ut{format(e){if(e||(e=V.sighash),V[e]||j.throwArgumentError("invalid format type","format",e),e===V.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==V.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===V.full?", ":",")+") ",e!==V.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Dt.fromString(e):Dt.fromObject(e)}static fromObject(e){if(Dt.isEventFragment(e))return e;e.type!=="event"&&j.throwArgumentError("invalid event object","value",e);const t={name:Cr(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ze.fromObject):[],type:"event"};return new Dt(nr,t)}static fromString(e){let t=e.match(Br);t||j.throwArgumentError("invalid event string","value",e);let i=!1;return t[3].split(" ").forEach(n=>{switch(n.trim()){case"anonymous":i=!0;break;case"":break;default:j.warn("unknown modifier: "+n)}}),Dt.fromObject({name:t[1].trim(),anonymous:i,inputs:Nr(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Js(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&j.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||j.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=q.from(t[1]),t[0]):r}function Zs(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Xs(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&j.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&j.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&j.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&j.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&j.throwArgumentError("unable to determine stateMutability","value",r),e}class Ct extends Ut{format(e){if(e||(e=V.sighash),V[e]||j.throwArgumentError("invalid format type","format",e),e===V.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});e===V.sighash&&j.throwError("cannot format a constructor for sighash",M.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(i=>i.format(e)).join(e===V.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?Ct.fromString(e):Ct.fromObject(e)}static fromObject(e){if(Ct.isConstructorFragment(e))return e;e.type!=="constructor"&&j.throwArgumentError("invalid constructor object","value",e);let t=Xs(e);t.constant&&j.throwArgumentError("constructor cannot be constant","value",e);const i={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ze.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?q.from(e.gas):null};return new Ct(nr,i)}static fromString(e){let t={type:"constructor"};e=Js(e,t);let i=e.match(Br);return(!i||i[1].trim()!=="constructor")&&j.throwArgumentError("invalid constructor string","value",e),t.inputs=Nr(i[2].trim(),!1),Zs(i[3].trim(),t),Ct.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Bt extends Ct{format(e){if(e||(e=V.sighash),V[e]||j.throwArgumentError("invalid format type","format",e),e===V.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==V.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===V.full?", ":",")+") ",e!==V.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(i=>i.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Bt.fromString(e):Bt.fromObject(e)}static fromObject(e){if(Bt.isFunctionFragment(e))return e;e.type!=="function"&&j.throwArgumentError("invalid function object","value",e);let t=Xs(e);const i={type:e.type,name:Cr(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ze.fromObject):[],outputs:e.outputs?e.outputs.map(ze.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?q.from(e.gas):null};return new Bt(nr,i)}static fromString(e){let t={type:"function"};e=Js(e,t);let i=e.split(" returns ");i.length>2&&j.throwArgumentError("invalid function string","value",e);let n=i[0].match(Br);if(n||j.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Cr(t.name),t.inputs=Nr(n[2],!1),Zs(n[3].trim(),t),i.length>1){let s=i[1].match(Br);(s[1].trim()!=""||s[3].trim()!="")&&j.throwArgumentError("unexpected tokens","value",e),t.outputs=Nr(s[2],!1)}else t.outputs=[];return Bt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ps(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&j.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class qt extends Ut{format(e){if(e||(e=V.sighash),V[e]||j.throwArgumentError("invalid format type","format",e),e===V.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==V.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===V.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?qt.fromString(e):qt.fromObject(e)}static fromObject(e){if(qt.isErrorFragment(e))return e;e.type!=="error"&&j.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Cr(e.name),inputs:e.inputs?e.inputs.map(ze.fromObject):[]};return ps(new qt(nr,t))}static fromString(e){let t={type:"error"},i=e.match(Br);return i||j.throwArgumentError("invalid error signature","value",e),t.name=i[1].trim(),t.name&&Cr(t.name),t.inputs=Nr(i[2],!1),ps(qt.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ur(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const na=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Cr(r){return(!r||!r.match(na))&&j.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Br=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function sa(r){r=r.trim();let e=[],t="",i=0;for(let n=0;n<r.length;n++){let s=r[n];s===","&&i===0?(e.push(t),t=""):(t+=s,s==="("?i++:s===")"&&(i--,i===-1&&j.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Tn=new M($r);function oa(r){const e=[],t=function(i,n){if(!!Array.isArray(n))for(let s in n){const a=i.slice();a.push(s);try{t(a,n[s])}catch(h){e.push({path:a,error:h})}}};return t([],r),e}class Ht{constructor(e,t,i,n){this.name=e,this.type=t,this.localName=i,this.dynamic=n}_throwError(e,t){Tn.throwArgumentError(e,this.localName,t)}}class cn{constructor(e){_(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return tr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData($e(e._data))}writeBytes(e){let t=C(e);const i=t.length%this.wordSize;return i&&(t=$e([t,this._padding.slice(i)])),this._writeData(t)}_getValue(e){let t=C(q.from(e));return t.length>this.wordSize&&Tn.throwError("value out-of-bounds",M.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=$e([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ni{constructor(e,t,i,n){_(this,"_data",C(e)),_(this,"wordSize",t||32),_(this,"_coerceFunc",i),_(this,"allowLoose",n),this._offset=0}get data(){return O(this._data)}get consumed(){return this._offset}static coerce(e,t){let i=e.match("^u?int([0-9]+)$");return i&&parseInt(i[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ni.coerce(e,t)}_peekBytes(e,t,i){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&i&&this._offset+t<=this._data.length?n=t:Tn.throwError("data out-of-bounds",M.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new ni(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let i=this._peekBytes(0,e,!!t);return this._offset+=i.length,i.slice(0,e)}readValue(){return q.from(this.readBytes(this.wordSize))}}function Ir(r){return"0x"+mi.keccak_256(C(r))}const aa="rlp/5.6.1",fa=new M(aa);function gs(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Ys(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(s){i=i.concat(Ys(s))}),i.length<=55)return i.unshift(192+i.length),i;const n=gs(i.length);return n.unshift(247+n.length),n.concat(i)}En(r)||fa.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(C(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=gs(e.length);return t.unshift(183+t.length),t.concat(e)}function ua(r){return O(Ys(r))}const ha="address/5.6.1",cr=new M(ha);function ms(r){je(r,20)||cr.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let n=0;n<40;n++)t[n]=e[n].charCodeAt(0);const i=C(Ir(t));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const ca=9007199254740991;function la(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Nn={};for(let r=0;r<10;r++)Nn[String(r)]=String(r);for(let r=0;r<26;r++)Nn[String.fromCharCode(65+r)]=String(10+r);const vs=Math.floor(la(ca));function da(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>Nn[i]).join("");for(;e.length>=vs;){let i=e.substring(0,vs);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Kt(r){let e=null;if(typeof r!="string"&&cr.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=ms(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&cr.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==da(r)&&cr.throwArgumentError("bad icap checksum","address",r),e=ea(r.substring(4));e.length<40;)e="0"+e;e=ms("0x"+e)}else cr.throwArgumentError("invalid address","address",r);return e}function Qs(r){let e=null;try{e=Kt(r.from)}catch{cr.throwArgumentError("missing from address","transaction",r)}const t=Gt(C(q.from(r.nonce).toHexString()));return Kt(ir(Ir(ua([e,t])),12))}class pa extends Ht{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Kt(t)}catch(i){this._throwError(i.message,t)}return e.writeValue(t)}decode(e){return Kt(Pt(e.readValue().toHexString(),20))}}class ga extends Ht{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const lr=new M($r);function eo(r,e,t){let i=null;if(Array.isArray(t))i=t;else if(t&&typeof t=="object"){let c={};i=e.map(d=>{const m=d.localName;return m||lr.throwError("cannot encode object for signature with missing names",M.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),c[m]&&lr.throwError("cannot encode object for signature with duplicate names",M.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:t}),c[m]=!0,t[m]})}else lr.throwArgumentError("invalid tuple value","tuple",t);e.length!==i.length&&lr.throwArgumentError("types/value length mismatch","tuple",t);let n=new cn(r.wordSize),s=new cn(r.wordSize),a=[];e.forEach((c,d)=>{let m=i[d];if(c.dynamic){let b=s.length;c.encode(s,m);let S=n.writeUpdatableValue();a.push(P=>{S(P+b)})}else c.encode(n,m)}),a.forEach(c=>{c(n.length)});let h=r.appendWriter(n);return h+=r.appendWriter(s),h}function to(r,e){let t=[],i=r.subReader(0);e.forEach(s=>{let a=null;if(s.dynamic){let h=r.readValue(),c=i.subReader(h.toNumber());try{a=s.decode(c)}catch(d){if(d.code===M.errors.BUFFER_OVERRUN)throw d;a=d,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(h){if(h.code===M.errors.BUFFER_OVERRUN)throw h;a=h,a.baseType=s.name,a.name=s.localName,a.type=s.type}a!=null&&t.push(a)});const n=e.reduce((s,a)=>{const h=a.localName;return h&&(s[h]||(s[h]=0),s[h]++),s},{});e.forEach((s,a)=>{let h=s.localName;if(!h||n[h]!==1||(h==="length"&&(h="_length"),t[h]!=null))return;const c=t[a];c instanceof Error?Object.defineProperty(t,h,{enumerable:!0,get:()=>{throw c}}):t[h]=c});for(let s=0;s<t.length;s++){const a=t[s];a instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(t)}class ma extends Ht{constructor(e,t,i){const n=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",n,i,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let i=0;i<this.length;i++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let i=this.length;i===-1&&(i=t.length,e.writeValue(t.length)),lr.checkArgumentCount(t.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let s=0;s<t.length;s++)n.push(this.coder);return eo(e,n,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&lr.throwError("insufficient data length",M.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let i=[];for(let n=0;n<t;n++)i.push(new ga(this.coder));return e.coerce(this.name,to(e,i))}}class va extends Ht{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ro extends Ht{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=C(t);let i=e.writeValue(t.length);return i+=e.writeBytes(t),i}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class ya extends ro{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,O(super.decode(e)))}}class wa extends Ht{constructor(e,t){let i="bytes"+String(e);super(i,i,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=C(t);return i.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(i)}decode(e){return e.coerce(this.name,O(e.readBytes(this.size)))}}class ba extends Ht{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const xa=q.from(-1),Aa=q.from(0),Ea=q.from(1),Sa=q.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class _a extends Ht{constructor(e,t,i){const n=(t?"int":"uint")+e*8;super(n,n,i,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=q.from(t),n=Sa.mask(e.wordSize*8);if(this.signed){let s=n.mask(this.size*8-1);(i.gt(s)||i.lt(s.add(Ea).mul(xa)))&&this._throwError("value out-of-bounds",t)}else(i.lt(Aa)||i.gt(n.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Ma="strings/5.6.1",io=new M(Ma);var si;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(si||(si={}));var ft;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(ft||(ft={}));function Pa(r,e,t,i,n){return io.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function no(r,e,t,i,n){if(r===ft.BAD_PREFIX||r===ft.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===ft.OVERRUN?t.length-e-1:0}function Ta(r,e,t,i,n){return r===ft.OVERLONG?(i.push(n),0):(i.push(65533),no(r,e,t))}const Na=Object.freeze({error:Pa,ignore:no,replace:Ta});function Ca(r,e){e==null&&(e=Na.error),r=C(r);const t=[];let i=0;for(;i<r.length;){const n=r[i++];if(n>>7===0){t.push(n);continue}let s=null,a=null;if((n&224)===192)s=1,a=127;else if((n&240)===224)s=2,a=2047;else if((n&248)===240)s=3,a=65535;else{(n&192)===128?i+=e(ft.UNEXPECTED_CONTINUE,i-1,r,t):i+=e(ft.BAD_PREFIX,i-1,r,t);continue}if(i-1+s>=r.length){i+=e(ft.OVERRUN,i-1,r,t);continue}let h=n&(1<<8-s-1)-1;for(let c=0;c<s;c++){let d=r[i];if((d&192)!=128){i+=e(ft.MISSING_CONTINUE,i,r,t),h=null;break}h=h<<6|d&63,i++}if(h!==null){if(h>1114111){i+=e(ft.OUT_OF_RANGE,i-1-s,r,t,h);continue}if(h>=55296&&h<=57343){i+=e(ft.UTF16_SURROGATE,i-1-s,r,t,h);continue}if(h<=a){i+=e(ft.OVERLONG,i-1-s,r,t,h);continue}t.push(h)}}return t}function so(r,e=si.current){e!=si.current&&(io.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;const s=r.charCodeAt(i);if(i>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((n&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return C(t)}function Ba(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ia(r,e){return Ba(Ca(r,e))}class ka extends ro{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,so(t))}decode(e){return Ia(super.decode(e))}}class jr extends Ht{constructor(e,t){let i=!1;const n=[];e.forEach(a=>{a.dynamic&&(i=!0),n.push(a.type)});const s="tuple("+n.join(",")+")";super("tuple",s,t,i),this.coders=e}defaultValue(){const e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});const t=this.coders.reduce((i,n)=>{const s=n.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});return this.coders.forEach((i,n)=>{let s=i.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[n]))}),Object.freeze(e)}encode(e,t){return eo(e,this.coders,t)}decode(e){return e.coerce(this.name,to(e,this.coders))}}const qr=new M($r),Ra=new RegExp(/^bytes([0-9]*)$/),Oa=new RegExp(/^(u?int)([0-9]*)$/);class Fa{constructor(e){_(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new pa(e.name);case"bool":return new va(e.name);case"string":return new ka(e.name);case"bytes":return new ya(e.name);case"array":return new ma(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new jr((e.components||[]).map(i=>this._getCoder(i)),e.name);case"":return new ba(e.name)}let t=e.type.match(Oa);if(t){let i=parseInt(t[2]||"256");return(i===0||i>256||i%8!==0)&&qr.throwArgumentError("invalid "+t[1]+" bit length","param",e),new _a(i/8,t[1]==="int",e.name)}if(t=e.type.match(Ra),t){let i=parseInt(t[1]);return(i===0||i>32)&&qr.throwArgumentError("invalid bytes length","param",e),new wa(i,e.name)}return qr.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ni(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new cn(this._getWordSize())}getDefaultValue(e){const t=e.map(n=>this._getCoder(ze.from(n)));return new jr(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&qr.throwError("types/values length mismatch",M.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const i=e.map(a=>this._getCoder(ze.from(a))),n=new jr(i,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,i){const n=e.map(a=>this._getCoder(ze.from(a)));return new jr(n,"_").decode(this._getReader(C(t),i))}}const La=new Fa;function Vr(r){return Ir(so(r))}const re=new M($r);class Da extends yr{}class Ua extends yr{}class Ga extends yr{}class ln extends yr{static isIndexed(e){return!!(e&&e._isIndexed)}}const $a={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function ys(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class ws{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,_(this,"fragments",t.map(i=>Ut.from(i)).filter(i=>i!=null)),_(this,"_abiCoder",Vt(new.target,"getAbiCoder")()),_(this,"functions",{}),_(this,"errors",{}),_(this,"events",{}),_(this,"structs",{}),this.fragments.forEach(i=>{let n=null;switch(i.type){case"constructor":if(this.deploy){re.warn("duplicate definition - constructor");return}_(this,"deploy",i);return;case"function":n=this.functions;break;case"event":n=this.events;break;case"error":n=this.errors;break;default:return}let s=i.format();if(n[s]){re.warn("duplicate definition - "+s);return}n[s]=i}),this.deploy||_(this,"deploy",Ct.from({payable:!1,type:"constructor"})),_(this,"_isInterface",!0)}format(e){e||(e=V.full),e===V.sighash&&re.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(i=>i.format(e));return e===V.json?JSON.stringify(t.map(i=>JSON.parse(i))):t}static getAbiCoder(){return La}static getAddress(e){return Kt(e)}static getSighash(e){return ir(Vr(e.format()),0,4)}static getEventTopic(e){return Vr(e.format())}getFunction(e){if(je(e)){for(const i in this.functions)if(e===this.getSighash(i))return this.functions[i];re.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.functions).filter(s=>s.split("(")[0]===i);return n.length===0?re.throwArgumentError("no matching function","name",i):n.length>1&&re.throwArgumentError("multiple matching functions","name",i),this.functions[n[0]]}const t=this.functions[Bt.fromString(e).format()];return t||re.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(je(e)){const i=e.toLowerCase();for(const n in this.events)if(i===this.getEventTopic(n))return this.events[n];re.throwArgumentError("no matching event","topichash",i)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.events).filter(s=>s.split("(")[0]===i);return n.length===0?re.throwArgumentError("no matching event","name",i):n.length>1&&re.throwArgumentError("multiple matching events","name",i),this.events[n[0]]}const t=this.events[Dt.fromString(e).format()];return t||re.throwArgumentError("no matching event","signature",e),t}getError(e){if(je(e)){const i=Vt(this.constructor,"getSighash");for(const n in this.errors){const s=this.errors[n];if(e===i(s))return this.errors[n]}re.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.errors).filter(s=>s.split("(")[0]===i);return n.length===0?re.throwArgumentError("no matching error","name",i):n.length>1&&re.throwArgumentError("multiple matching errors","name",i),this.errors[n[0]]}const t=this.errors[Bt.fromString(e).format()];return t||re.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Vt(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Vt(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const i=C(t);return O(i.slice(0,4))!==this.getSighash(e)&&re.throwArgumentError(`data signature does not match error ${e.name}.`,"data",O(i)),this._decodeParams(e.inputs,i.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),O($e([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const i=C(t);return O(i.slice(0,4))!==this.getSighash(e)&&re.throwArgumentError(`data signature does not match function ${e.name}.`,"data",O(i)),this._decodeParams(e.inputs,i.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),O($e([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let i=C(t),n=null,s="",a=null,h=null,c=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,i)}catch{}break;case 4:{const d=O(i.slice(0,4)),m=$a[d];if(m)a=this._abiCoder.decode(m.inputs,i.slice(4)),h=m.name,c=m.signature,m.reason&&(n=a[0]),h==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:h==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const b=this.getError(d);a=this._abiCoder.decode(b.inputs,i.slice(4)),h=b.name,c=b.format()}catch{}break}}return re.throwError("call revert exception"+s,M.errors.CALL_EXCEPTION,{method:e.format(),data:O(t),errorArgs:a,errorName:h,errorSignature:c,reason:n})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),O(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&re.throwError("too many arguments for "+e.format(),M.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let i=[];e.anonymous||i.push(this.getEventTopic(e));const n=(s,a)=>s.type==="string"?Vr(a):s.type==="bytes"?Ir(O(a)):(s.type==="address"&&this._abiCoder.encode(["address"],[a]),Pt(O(a),32));for(t.forEach((s,a)=>{let h=e.inputs[a];if(!h.indexed){s!=null&&re.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+h.name,s);return}s==null?i.push(null):h.baseType==="array"||h.baseType==="tuple"?re.throwArgumentError("filtering with tuples or arrays not supported","contract."+h.name,s):Array.isArray(s)?i.push(s.map(c=>n(h,c))):i.push(n(h,s))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const i=[],n=[],s=[];return e.anonymous||i.push(this.getEventTopic(e)),t.length!==e.inputs.length&&re.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((a,h)=>{const c=t[h];if(a.indexed)if(a.type==="string")i.push(Vr(c));else if(a.type==="bytes")i.push(Ir(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");i.push(this._abiCoder.encode([a.type],[c]))}else n.push(a),s.push(c)}),{data:this._abiCoder.encode(n,s),topics:i}}decodeEventLog(e,t,i){if(typeof e=="string"&&(e=this.getEvent(e)),i!=null&&!e.anonymous){let S=this.getEventTopic(e);(!je(i[0],32)||i[0].toLowerCase()!==S)&&re.throwError("fragment/topic mismatch",M.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:S,value:i[0]}),i=i.slice(1)}let n=[],s=[],a=[];e.inputs.forEach((S,P)=>{S.indexed?S.type==="string"||S.type==="bytes"||S.baseType==="tuple"||S.baseType==="array"?(n.push(ze.fromObject({type:"bytes32",name:S.name})),a.push(!0)):(n.push(S),a.push(!1)):(s.push(S),a.push(!1))});let h=i!=null?this._abiCoder.decode(n,$e(i)):null,c=this._abiCoder.decode(s,t,!0),d=[],m=0,b=0;e.inputs.forEach((S,P)=>{if(S.indexed)if(h==null)d[P]=new ln({_isIndexed:!0,hash:null});else if(a[P])d[P]=new ln({_isIndexed:!0,hash:h[b++]});else try{d[P]=h[b++]}catch(T){d[P]=T}else try{d[P]=c[m++]}catch(T){d[P]=T}if(S.name&&d[S.name]==null){const T=d[P];T instanceof Error?Object.defineProperty(d,S.name,{enumerable:!0,get:()=>{throw ys(`property ${JSON.stringify(S.name)}`,T)}}):d[S.name]=T}});for(let S=0;S<d.length;S++){const P=d[S];P instanceof Error&&Object.defineProperty(d,S,{enumerable:!0,get:()=>{throw ys(`index ${S}`,P)}})}return Object.freeze(d)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Ua({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:q.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Da({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=O(e);let i=this.getError(t.substring(0,10).toLowerCase());return i?new Ga({args:this._abiCoder.decode(i.inputs,"0x"+t.substring(10)),errorFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Ka="abstract-provider/5.6.1";var za=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const Ha=new M(Ka);class Cn{constructor(){Ha.checkAbstract(new.target,Cn),_(this,"_isProvider",!0)}getFeeData(){return za(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield it({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let i=null,n=null;return e&&e.baseFeePerGas&&(n=q.from("1500000000"),i=e.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:i,maxPriorityFeePerGas:n,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const ja="abstract-signer/5.6.2";var xt=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const gt=new M(ja),qa=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Va=[M.errors.INSUFFICIENT_FUNDS,M.errors.NONCE_EXPIRED,M.errors.REPLACEMENT_UNDERPRICED];class Kr{constructor(){gt.checkAbstract(new.target,Kr),_(this,"_isSigner",!0)}getBalance(e){return xt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return xt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return xt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield it(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return xt(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield it(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return xt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return xt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return xt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return xt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return xt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const i in e)qa.indexOf(i)===-1&&gt.throwArgumentError("invalid transaction key: "+i,"transaction",e);const t=kt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&gt.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return xt(this,void 0,void 0,function*(){const t=yield it(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>xt(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.resolveName(n);return s==null&&gt.throwArgumentError("provided ENS name resolves to null","tx.to",n),s})),t.to.catch(n=>{}));const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)?gt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&i&&gt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const n=yield this.getFeeData();if(t.type==null)if(n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas);else n.gasPrice!=null?(i&&gt.throwError("network does not support EIP-1559",M.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=n.gasPrice),t.type=0):gt.throwError("failed to get consistent fee data",M.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(n=>{if(Va.indexOf(n.code)>=0)throw n;return gt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{error:n,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(n=>(n[1]!==0&&n[0]!==n[1]&&gt.throwArgumentError("chainId address mismatch","transaction",e),n[0])),yield it(t)})}_checkProvider(e){this.provider||gt.throwError("missing provider",M.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Bn extends Kr{constructor(e,t){super(),_(this,"address",e),_(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{gt.throwError(e,M.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Bn(this.address,e)}}const Wa="transactions/5.6.2",oo=new M(Wa);var bs;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(bs||(bs={}));function Xi(r,e){return{address:Kt(r),storageKeys:(e||[]).map((t,i)=>(Sn(t)!==32&&oo.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function Ja(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&oo.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),Xi(t[0],t[1])):Xi(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const i=r[t].reduce((n,s)=>(n[s]=!0,n),{});return Xi(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}const Za="contracts/5.6.0";var Jt=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const J=new M(Za),Xa={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function oi(r,e){return Jt(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&J.throwArgumentError("invalid address or ENS name","name",t);try{return Kt(t)}catch{}r||J.throwError("a provider or signer is needed to resolve ENS names",M.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield r.resolveName(t);return i==null&&J.throwArgumentError("resolver or addr is not configured for ENS name","name",t),i})}function Mr(r,e,t){return Jt(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((i,n)=>Mr(r,Array.isArray(e)?e[n]:e[i.name],i))):t.type==="address"?yield oi(r,e):t.type==="tuple"?yield Mr(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(i=>Mr(r,i,t.arrayChildren))):Promise.reject(J.makeError("invalid value for array",M.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function wi(r,e,t){return Jt(this,void 0,void 0,function*(){let i={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(i=kt(t.pop())),J.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?i.from?i.from=it({override:oi(r.signer,i.from),signer:r.signer.getAddress()}).then(d=>Jt(this,void 0,void 0,function*(){return Kt(d.signer)!==d.override&&J.throwError("Contract with a Signer cannot override from",M.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):i.from=r.signer.getAddress():i.from&&(i.from=oi(r.provider,i.from));const n=yield it({args:Mr(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:it(i)||{}}),s=r.interface.encodeFunctionData(e,n.args),a={data:s,to:n.address},h=n.overrides;if(h.nonce!=null&&(a.nonce=q.from(h.nonce).toNumber()),h.gasLimit!=null&&(a.gasLimit=q.from(h.gasLimit)),h.gasPrice!=null&&(a.gasPrice=q.from(h.gasPrice)),h.maxFeePerGas!=null&&(a.maxFeePerGas=q.from(h.maxFeePerGas)),h.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=q.from(h.maxPriorityFeePerGas)),h.from!=null&&(a.from=h.from),h.type!=null&&(a.type=h.type),h.accessList!=null&&(a.accessList=Ja(h.accessList)),a.gasLimit==null&&e.gas!=null){let d=21e3;const m=C(s);for(let b=0;b<m.length;b++)d+=4,m[b]&&(d+=64);a.gasLimit=q.from(e.gas).add(d)}if(h.value){const d=q.from(h.value);!d.isZero()&&!e.payable&&J.throwError("non-payable method cannot override value",M.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),a.value=d}h.customData&&(a.customData=kt(h.customData)),h.ccipReadEnabled&&(a.ccipReadEnabled=!!h.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;const c=Object.keys(i).filter(d=>i[d]!=null);return c.length&&J.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,M.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),a})}function Ya(r,e){return function(...t){return wi(r,e,t)}}function Qa(r,e){const t=r.signer||r.provider;return function(...i){return Jt(this,void 0,void 0,function*(){t||J.throwError("estimate require a provider or signer",M.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield wi(r,e,i);return yield t.estimateGas(n)})}}function ao(r,e){const t=e.wait.bind(e);e.wait=i=>t(i).then(n=>(n.events=n.logs.map(s=>{let a=_n(s),h=null;try{h=r.interface.parseLog(s)}catch{}return h&&(a.args=h.args,a.decode=(c,d)=>r.interface.decodeEventLog(h.eventFragment,c,d),a.event=h.name,a.eventSignature=h.signature),a.removeListener=()=>r.provider,a.getBlock=()=>r.provider.getBlock(n.blockHash),a.getTransaction=()=>r.provider.getTransaction(n.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(n),a}),n))}function fo(r,e,t){const i=r.signer||r.provider;return function(...n){return Jt(this,void 0,void 0,function*(){let s;if(n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"){const c=kt(n.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,n.push(c)}r.deployTransaction!=null&&(yield r._deployed(s));const a=yield wi(r,e,n),h=yield i.call(a,s);try{let c=r.interface.decodeFunctionResult(e,h);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===M.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=n,c.transaction=a),c}})}}function ef(r,e){return function(...t){return Jt(this,void 0,void 0,function*(){r.signer||J.throwError("sending a transaction requires a signer",M.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const i=yield wi(r,e,t),n=yield r.signer.sendTransaction(i);return ao(r,n),n})}}function xs(r,e,t){return e.constant?fo(r,e,t):ef(r,e)}function uo(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class kr{constructor(e,t){_(this,"tag",e),_(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(i=>t||i.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(i=>{const n=e.slice();return setTimeout(()=>{i.listener.apply(this,n)},0),!i.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class tf extends kr{constructor(){super("error",null)}}class As extends kr{constructor(e,t,i,n){const s={address:e};let a=t.getEventTopic(i);n?(a!==n[0]&&J.throwArgumentError("topic mismatch","topics",n),s.topics=n.slice()):s.topics=[a],super(uo(s),s),_(this,"address",e),_(this,"interface",t),_(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,i)=>this.interface.decodeEventLog(this.fragment,t,i);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=oa(e.args);if(t.length)throw t[0].error;const i=(e.args||[]).slice();return i.push(e),i}}class Es extends kr{constructor(e,t){super("*",{address:e}),_(this,"address",e),_(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(i,n)=>this.interface.decodeEventLog(t.eventFragment,i,n),e.args=t.args}catch{}}}class rf{constructor(e,t,i){J.checkNew(new.target,dn),_(this,"interface",Vt(new.target,"getInterface")(t)),i==null?(_(this,"provider",null),_(this,"signer",null)):Kr.isSigner(i)?(_(this,"provider",i.provider||null),_(this,"signer",i)):Cn.isProvider(i)?(_(this,"provider",i),_(this,"signer",null)):J.throwArgumentError("invalid signer or provider","signerOrProvider",i),_(this,"callStatic",{}),_(this,"estimateGas",{}),_(this,"functions",{}),_(this,"populateTransaction",{}),_(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(h=>{const c=this.interface.events[h];_(this.filters,h,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),a[c.name]||(a[c.name]=[]),a[c.name].push(h)}),Object.keys(a).forEach(h=>{const c=a[h];c.length===1?_(this.filters,h,this.filters[c[0]]):J.warn(`Duplicate definition of ${h} (${c.join(", ")})`)})}if(_(this,"_runningEvents",{}),_(this,"_wrappedEmits",{}),e==null&&J.throwArgumentError("invalid contract address or ENS name","addressOrName",e),_(this,"address",e),this.provider)_(this,"resolvedAddress",oi(this.provider,e));else try{_(this,"resolvedAddress",Promise.resolve(Kt(e)))}catch{J.throwError("provider is required to use ENS name as contract address",M.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const n={},s={};Object.keys(this.interface.functions).forEach(a=>{const h=this.interface.functions[a];if(s[a]){J.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}s[a]=!0;{const c=h.name;n[`%${c}`]||(n[`%${c}`]=[]),n[`%${c}`].push(a)}this[a]==null&&_(this,a,xs(this,h,!0)),this.functions[a]==null&&_(this.functions,a,xs(this,h,!1)),this.callStatic[a]==null&&_(this.callStatic,a,fo(this,h,!0)),this.populateTransaction[a]==null&&_(this.populateTransaction,a,Ya(this,h)),this.estimateGas[a]==null&&_(this.estimateGas,a,Qa(this,h))}),Object.keys(n).forEach(a=>{const h=n[a];if(h.length>1)return;a=a.substring(1);const c=h[0];try{this[a]==null&&_(this,a,this[c])}catch{}this.functions[a]==null&&_(this.functions,a,this.functions[c]),this.callStatic[a]==null&&_(this.callStatic,a,this.callStatic[c]),this.populateTransaction[a]==null&&_(this.populateTransaction,a,this.populateTransaction[c]),this.estimateGas[a]==null&&_(this.estimateGas,a,this.estimateGas[c])})}static getContractAddress(e){return Qs(e)}static getInterface(e){return ws.isInterface(e)?e:new ws(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&J.throwError("contract not deployed",M.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||J.throwError("sending a transactions require a signer",M.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=kt(e||{});return["from","to"].forEach(function(i){t[i]!=null&&J.throwError("cannot override "+i,M.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Bn(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&_(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return ln.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new tf);if(e==="event")return this._normalizeRunningEvent(new kr("event",null));if(e==="*")return this._normalizeRunningEvent(new Es(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new As(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const i=e.topics[0];if(typeof i!="string")throw new Error("invalid topic");const n=this.interface.getEvent(i);return this._normalizeRunningEvent(new As(this.address,this.interface,n,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new kr(uo(t),t))}return this._normalizeRunningEvent(new Es(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,i){const n=_n(t);return n.removeListener=()=>{!i||(e.removeListener(i),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,i){if(this.provider||J.throwError("events require a provider or a signer with a provider",M.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,i),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=s=>{let a=this._wrapEvent(e,s,t);if(a.decodeError==null)try{const h=e.getEmit(a);this.emit(e.filter,...h)}catch(h){a.decodeError=h.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=n,e.filter!=null&&this.provider.on(e.filter,n)}}queryFilter(e,t,i){const n=this._getRunningEvent(e),s=kt(n.filter);return typeof t=="string"&&je(t,32)?(i!=null&&J.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),s.blockHash=t):(s.fromBlock=t!=null?t:0,s.toBlock=i!=null?i:"latest"),this.provider.getLogs(s).then(a=>a.map(h=>this._wrapEvent(n,h,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const i=this._getRunningEvent(e),n=i.run(t)>0;return this._checkRunningEvents(i),n}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,i)=>t+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(n=>{t.push(n)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const i in this._runningEvents){const n=this._runningEvents[i];n.removeAllListeners(),this._checkRunningEvents(n)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const i=this._getRunningEvent(e);return i.removeListener(t),this._checkRunningEvents(i),this}removeListener(e,t){return this.off(e,t)}}class dn extends rf{}class nf{constructor(e,t,i){let n=null;typeof t=="string"?n=t:gi(t)?n=O(t):t&&typeof t.object=="string"?n=t.object:n="!",n.substring(0,2)!=="0x"&&(n="0x"+n),(!je(n)||n.length%2)&&J.throwArgumentError("invalid bytecode","bytecode",t),i&&!Kr.isSigner(i)&&J.throwArgumentError("invalid signer","signer",i),_(this,"bytecode",n),_(this,"interface",Vt(new.target,"getInterface")(e)),_(this,"signer",i||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=kt(e.pop());for(const i in t)if(!Xa[i])throw new Error("unknown transaction override "+i)}return["data","from","to"].forEach(i=>{t[i]!=null&&J.throwError("cannot override "+i,M.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.value&&!q.from(t.value).isZero()&&!this.interface.deploy.payable&&J.throwError("non-payable constructor cannot override value",M.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),J.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=O($e([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Jt(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),J.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const i=yield Mr(this.signer,e,this.interface.deploy.inputs);i.push(t);const n=this.getDeployTransaction(...i),s=yield this.signer.sendTransaction(n),a=Vt(this.constructor,"getContractAddress")(s),h=Vt(this.constructor,"getContract")(a,this.interface,this.signer);return ao(h,s),_(h,"deployTransaction",s),h})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&J.throwError("missing compiler output",M.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const i=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(i,n,t)}static getInterface(e){return dn.getInterface(e)}static getContractAddress(e){return Qs(e)}static getContract(e,t,i){return new dn(e,t,i)}}const sf="bignumber/5.6.2";var ai=G.BN;const Ot=new M(sf),Yi={},Ss=9007199254740991;let _s=!1;class Y{constructor(e,t){e!==Yi&&Ot.throwError("cannot call constructor directly; use BigNumber.from",M.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return et(z(this).fromTwos(e))}toTwos(e){return et(z(this).toTwos(e))}abs(){return this._hex[0]==="-"?Y.from(this._hex.substring(1)):this}add(e){return et(z(this).add(z(e)))}sub(e){return et(z(this).sub(z(e)))}div(e){return Y.from(e).isZero()&&dt("division-by-zero","div"),et(z(this).div(z(e)))}mul(e){return et(z(this).mul(z(e)))}mod(e){const t=z(e);return t.isNeg()&&dt("division-by-zero","mod"),et(z(this).umod(t))}pow(e){const t=z(e);return t.isNeg()&&dt("negative-power","pow"),et(z(this).pow(t))}and(e){const t=z(e);return(this.isNegative()||t.isNeg())&&dt("unbound-bitwise-result","and"),et(z(this).and(t))}or(e){const t=z(e);return(this.isNegative()||t.isNeg())&&dt("unbound-bitwise-result","or"),et(z(this).or(t))}xor(e){const t=z(e);return(this.isNegative()||t.isNeg())&&dt("unbound-bitwise-result","xor"),et(z(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&dt("negative-width","mask"),et(z(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&dt("negative-width","shl"),et(z(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&dt("negative-width","shr"),et(z(this).shrn(e))}eq(e){return z(this).eq(z(e))}lt(e){return z(this).lt(z(e))}lte(e){return z(this).lte(z(e))}gt(e){return z(this).gt(z(e))}gte(e){return z(this).gte(z(e))}isNegative(){return this._hex[0]==="-"}isZero(){return z(this).isZero()}toNumber(){try{return z(this).toNumber()}catch{dt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ot.throwError("this platform does not support BigInt",M.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_s||(_s=!0,Ot.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ot.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",M.errors.UNEXPECTED_ARGUMENT,{}):Ot.throwError("BigNumber.toString does not accept parameters",M.errors.UNEXPECTED_ARGUMENT,{})),z(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Y)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Y(Yi,Rr(e)):e.match(/^-?[0-9]+$/)?new Y(Yi,Rr(new ai(e))):Ot.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&dt("underflow","BigNumber.from",e),(e>=Ss||e<=-Ss)&&dt("overflow","BigNumber.from",e),Y.from(String(e));const t=e;if(typeof t=="bigint")return Y.from(t.toString());if(gi(t))return Y.from(O(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return Y.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(je(i)||i[0]==="-"&&je(i.substring(1))))return Y.from(i)}return Ot.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Rr(r){if(typeof r!="string")return Rr(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ot.throwArgumentError("invalid hex","value",r),r=Rr(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function et(r){return Y.from(Rr(r))}function z(r){const e=Y.from(r).toHexString();return e[0]==="-"?new ai("-"+e.substring(3),16):new ai(e.substring(2),16)}function dt(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),Ot.throwError(r,M.errors.NUMERIC_FAULT,i)}function of(r){return new ai(r,36).toString(16)}function Xe(r){return"0x"+mi.keccak_256(C(r))}const af="rlp/5.6.1",ff=new M(af);function Ms(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function ho(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(s){i=i.concat(ho(s))}),i.length<=55)return i.unshift(192+i.length),i;const n=Ms(i.length);return n.unshift(247+n.length),n.concat(i)}En(r)||ff.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(C(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Ms(e.length);return t.unshift(183+t.length),t.concat(e)}function fi(r){return O(ho(r))}const uf="address/5.6.1",Er=new M(uf);function Ps(r){je(r,20)||Er.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let n=0;n<40;n++)t[n]=e[n].charCodeAt(0);const i=C(Xe(t));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const hf=9007199254740991;function cf(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const In={};for(let r=0;r<10;r++)In[String(r)]=String(r);for(let r=0;r<26;r++)In[String.fromCharCode(65+r)]=String(10+r);const Ts=Math.floor(cf(hf));function lf(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>In[i]).join("");for(;e.length>=Ts;){let i=e.substring(0,Ts);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Tt(r){let e=null;if(typeof r!="string"&&Er.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Ps(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Er.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==lf(r)&&Er.throwArgumentError("bad icap checksum","address",r),e=of(r.substring(4));e.length<40;)e="0"+e;e=Ps("0x"+e)}else Er.throwArgumentError("invalid address","address",r);return e}const df="abstract-provider/5.6.1";var pf=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const gf=new M(df);class kn{constructor(){gf.checkAbstract(new.target,kn),_(this,"_isProvider",!0)}getFeeData(){return pf(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield it({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let i=null,n=null;return e&&e.baseFeePerGas&&(n=Y.from("1500000000"),i=e.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:i,maxPriorityFeePerGas:n,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const mf="abstract-signer/5.6.2";var At=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const Et=new M(mf),vf=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],yf=[M.errors.INSUFFICIENT_FUNDS,M.errors.NONCE_EXPIRED,M.errors.REPLACEMENT_UNDERPRICED];class Rn{constructor(){Et.checkAbstract(new.target,Rn),_(this,"_isSigner",!0)}getBalance(e){return At(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return At(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return At(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield it(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return At(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield it(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return At(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return At(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return At(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return At(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return At(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const i in e)vf.indexOf(i)===-1&&Et.throwArgumentError("invalid transaction key: "+i,"transaction",e);const t=kt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&Et.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return At(this,void 0,void 0,function*(){const t=yield it(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>At(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.resolveName(n);return s==null&&Et.throwArgumentError("provided ENS name resolves to null","tx.to",n),s})),t.to.catch(n=>{}));const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)?Et.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&i&&Et.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const n=yield this.getFeeData();if(t.type==null)if(n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas);else n.gasPrice!=null?(i&&Et.throwError("network does not support EIP-1559",M.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=n.gasPrice),t.type=0):Et.throwError("failed to get consistent fee data",M.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(n=>{if(yf.indexOf(n.code)>=0)throw n;return Et.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{error:n,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(n=>(n[1]!==0&&n[0]!==n[1]&&Et.throwArgumentError("chainId address mismatch","transaction",e),n[0])),yield it(t)})}_checkProvider(e){this.provider||Et.throwError("missing provider",M.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}const wf="strings/5.6.1",co=new M(wf);var sr;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(sr||(sr={}));var dr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(dr||(dr={}));function bf(r,e,t,i,n){return co.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function lo(r,e,t,i,n){if(r===dr.BAD_PREFIX||r===dr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===dr.OVERRUN?t.length-e-1:0}function xf(r,e,t,i,n){return r===dr.OVERLONG?(i.push(n),0):(i.push(65533),lo(r,e,t))}Object.freeze({error:bf,ignore:lo,replace:xf});function $t(r,e=sr.current){e!=sr.current&&(co.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;const s=r.charCodeAt(i);if(i>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((n&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return C(t)}function On(r){return Xe($t(r))}const Af="hash/5.6.1",Ef=`Ethereum Signed Message:
`;function Sf(r){return typeof r=="string"&&(r=$t(r)),Xe($e([$t(Ef),$t(String(r.length)),r]))}var _f=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const ie=new M(Af),po=new Uint8Array(32);po.fill(0);const Mf=Y.from(-1),go=Y.from(0),mo=Y.from(1),Pf=Y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Tf(r){const e=C(r),t=e.length%32;return t?tr([e,po.slice(t)]):O(e)}const Nf=Pt(mo.toHexString(),32),Cf=Pt(go.toHexString(),32),Ns={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Qi=["name","version","chainId","verifyingContract","salt"];function Cs(r){return function(e){return typeof e!="string"&&ie.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Bf={name:Cs("name"),version:Cs("version"),chainId:function(r){try{return Y.from(r).toString()}catch{}return ie.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Tt(r).toLowerCase()}catch{}return ie.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=C(r);if(e.length!==32)throw new Error("bad length");return O(e)}catch{}return ie.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function en(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",i=parseInt(e[2]||"256");(i%8!==0||i>256||e[2]&&e[2]!==String(i))&&ie.throwArgumentError("invalid numeric width","type",r);const n=Pf.mask(t?i-1:i),s=t?n.add(mo).mul(Mf):go;return function(a){const h=Y.from(a);return(h.lt(s)||h.gt(n))&&ie.throwArgumentError(`value out-of-bounds for ${r}`,"value",a),Pt(h.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&ie.throwArgumentError("invalid bytes width","type",r),function(i){return C(i).length!==t&&ie.throwArgumentError(`invalid length for ${r}`,"value",i),Tf(i)}}}switch(r){case"address":return function(e){return Pt(Tt(e),32)};case"bool":return function(e){return e?Nf:Cf};case"bytes":return function(e){return Xe(e)};case"string":return function(e){return On(e)}}return null}function Bs(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}class ot{constructor(e){_(this,"types",Object.freeze(_n(e))),_(this,"_encoderCache",{}),_(this,"_types",{});const t={},i={},n={};Object.keys(e).forEach(h=>{t[h]={},i[h]=[],n[h]={}});for(const h in e){const c={};e[h].forEach(d=>{c[d.name]&&ie.throwArgumentError(`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(h)}`,"types",e),c[d.name]=!0;const m=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1];m===h&&ie.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),!en(m)&&(i[m]||ie.throwArgumentError(`unknown type ${JSON.stringify(m)}`,"types",e),i[m].push(h),t[h][m]=!0)})}const s=Object.keys(i).filter(h=>i[h].length===0);s.length===0?ie.throwArgumentError("missing primary type","types",e):s.length>1&&ie.throwArgumentError(`ambiguous primary types or unused types: ${s.map(h=>JSON.stringify(h)).join(", ")}`,"types",e),_(this,"primaryType",s[0]);function a(h,c){c[h]&&ie.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),c[h]=!0,Object.keys(t[h]).forEach(d=>{!i[d]||(a(d,c),Object.keys(c).forEach(m=>{n[m][d]=!0}))}),delete c[h]}a(this.primaryType,{});for(const h in n){const c=Object.keys(n[h]);c.sort(),this._types[h]=Bs(h,e[h])+c.map(d=>Bs(d,e[d])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const n=en(e);if(n)return n}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const n=t[1],s=this.getEncoder(n),a=parseInt(t[3]);return h=>{a>=0&&h.length!==a&&ie.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",h);let c=h.map(s);return this._types[n]&&(c=c.map(Xe)),Xe(tr(c))}}const i=this.types[e];if(i){const n=On(this._types[e]);return s=>{const a=i.map(({name:h,type:c})=>{const d=this.getEncoder(c)(s[h]);return this._types[c]?Xe(d):d});return a.unshift(n),tr(a)}}return ie.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||ie.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Xe(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(en(e))return i(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const a=n[1],h=parseInt(n[3]);return h>=0&&t.length!==h&&ie.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(a,c,i))}const s=this.types[e];return s?s.reduce((a,{name:h,type:c})=>(a[h]=this._visit(c,t[h],i),a),{}):ie.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ot(e)}static getPrimaryType(e){return ot.from(e).primaryType}static hashStruct(e,t,i){return ot.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){const n=Ns[i];n||ie.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:n})}return t.sort((i,n)=>Qi.indexOf(i.name)-Qi.indexOf(n.name)),ot.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return tr(["0x1901",ot.hashDomain(e),ot.from(t).hash(i)])}static hash(e,t,i){return Xe(ot.encode(e,t,i))}static resolveNames(e,t,i,n){return _f(this,void 0,void 0,function*(){e=kt(e);const s={};e.verifyingContract&&!je(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=ot.from(t);a.visit(i,(h,c)=>(h==="address"&&!je(c,20)&&(s[c]="0x"),c));for(const h in s)s[h]=yield n(h);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),i=a.visit(i,(h,c)=>h==="address"&&s[c]?s[c]:c),{domain:e,value:i}})}static getPayload(e,t,i){ot.hashDomain(e);const n={},s=[];Qi.forEach(c=>{const d=e[c];d!=null&&(n[c]=Bf[c](d),s.push({name:c,type:Ns[c]}))});const a=ot.from(t),h=kt(t);return h.EIP712Domain?ie.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):h.EIP712Domain=s,a.encode(i),{types:h,domain:n,primaryType:a.primaryType,message:a.visit(i,(c,d)=>{if(c.match(/^bytes(\d*)/))return O(C(d));if(c.match(/^u?int/))return Y.from(d).toString();switch(c){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return typeof d!="string"&&ie.throwArgumentError("invalid string","value",d),d}return ie.throwArgumentError("unsupported type","type",c)})}}}class vo{constructor(e){_(this,"alphabet",e),_(this,"base",e.length),_(this,"_alphabetMap",{}),_(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=C(e);if(t.length===0)return"";let i=[0];for(let s=0;s<t.length;++s){let a=t[s];for(let h=0;h<i.length;++h)a+=i[h]<<8,i[h]=a%this.base,a=a/this.base|0;for(;a>0;)i.push(a%this.base),a=a/this.base|0}let n="";for(let s=0;t[s]===0&&s<t.length-1;++s)n+=this._leader;for(let s=i.length-1;s>=0;--s)n+=this.alphabet[i[s]];return n}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let i=0;i<e.length;i++){let n=this._alphabetMap[e[i]];if(n===void 0)throw new Error("Non-base"+this.base+" character");let s=n;for(let a=0;a<t.length;++a)s+=t[a]*this.base,t[a]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let i=0;e[i]===this._leader&&i<e.length-1;++i)t.push(0);return C(new Uint8Array(t.reverse()))}}new vo("abcdefghijklmnopqrstuvwxyz234567");const yo=new vo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Or;(function(r){r.sha256="sha256",r.sha512="sha512"})(Or||(Or={}));const If="sha2/5.6.1",kf=new M(If);function Rf(r){return"0x"+at.ripemd160().update(C(r)).digest("hex")}function Fr(r){return"0x"+at.sha256().update(C(r)).digest("hex")}function ui(r,e,t){return Or[r]||kf.throwError("unsupported algorithm "+r,M.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+at.hmac(at[r],C(e)).update(C(t)).digest("hex")}function Fn(r,e,t,i,n){r=C(r),e=C(e);let s,a=1;const h=new Uint8Array(i),c=new Uint8Array(e.length+4);c.set(e);let d,m;for(let b=1;b<=a;b++){c[e.length]=b>>24&255,c[e.length+1]=b>>16&255,c[e.length+2]=b>>8&255,c[e.length+3]=b&255;let S=C(ui(n,r,c));s||(s=S.length,m=new Uint8Array(s),a=Math.ceil(i/s),d=i-(a-1)*s),m.set(S);for(let N=1;N<t;N++){S=C(ui(n,r,S));for(let k=0;k<s;k++)m[k]^=S[k]}const P=(b-1)*s,T=b===a?d:s;h.set(C(m).slice(0,T),P)}return O(h)}function wr(r,e,t){return t={path:e,exports:{},require:function(i,n){return Of(i,n==null?t.path:n)}},r(t,t.exports),t.exports}function Of(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ln=wo;function wo(r,e){if(!r)throw new Error(e||"Assertion failed")}wo.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var _t=wr(function(r,e){var t=e;function i(a,h){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var d=0;d<a.length;d++)c[d]=a[d]|0;return c}if(h==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var m=a.charCodeAt(d),b=m>>8,S=m&255;b?c.push(b,S):c.push(S)}return c}t.toArray=i;function n(a){return a.length===1?"0"+a:a}t.zero2=n;function s(a){for(var h="",c=0;c<a.length;c++)h+=n(a[c].toString(16));return h}t.toHex=s,t.encode=function(h,c){return c==="hex"?s(h):h}}),ct=wr(function(r,e){var t=e;t.assert=Ln,t.toArray=_t.toArray,t.zero2=_t.zero2,t.toHex=_t.toHex,t.encode=_t.encode;function i(c,d,m){var b=new Array(Math.max(c.bitLength(),m)+1);b.fill(0);for(var S=1<<d+1,P=c.clone(),T=0;T<b.length;T++){var N,k=P.andln(S-1);P.isOdd()?(k>(S>>1)-1?N=(S>>1)-k:N=k,P.isubn(N)):N=0,b[T]=N,P.iushrn(1)}return b}t.getNAF=i;function n(c,d){var m=[[],[]];c=c.clone(),d=d.clone();for(var b=0,S=0,P;c.cmpn(-b)>0||d.cmpn(-S)>0;){var T=c.andln(3)+b&3,N=d.andln(3)+S&3;T===3&&(T=-1),N===3&&(N=-1);var k;(T&1)===0?k=0:(P=c.andln(7)+b&7,(P===3||P===5)&&N===2?k=-T:k=T),m[0].push(k);var F;(N&1)===0?F=0:(P=d.andln(7)+S&7,(P===3||P===5)&&T===2?F=-N:F=N),m[1].push(F),2*b===k+1&&(b=1-b),2*S===F+1&&(S=1-S),c.iushrn(1),d.iushrn(1)}return m}t.getJSF=n;function s(c,d,m){var b="_"+d;c.prototype[d]=function(){return this[b]!==void 0?this[b]:this[b]=m.call(this)}}t.cachedProperty=s;function a(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=a;function h(c){return new G(c,"hex","le")}t.intFromLE=h}),hi=ct.getNAF,Ff=ct.getJSF,ci=ct.assert;function Xt(r,e){this.type=r,this.p=new G(e.p,16),this.red=e.prime?G.red(e.prime):G.mont(this.p),this.zero=new G(0).toRed(this.red),this.one=new G(1).toRed(this.red),this.two=new G(2).toRed(this.red),this.n=e.n&&new G(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ar=Xt;Xt.prototype.point=function(){throw new Error("Not implemented")};Xt.prototype.validate=function(){throw new Error("Not implemented")};Xt.prototype._fixedNafMul=function(e,t){ci(e.precomputed);var i=e._getDoubles(),n=hi(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var a=[],h,c;for(h=0;h<n.length;h+=i.step){c=0;for(var d=h+i.step-1;d>=h;d--)c=(c<<1)+n[d];a.push(c)}for(var m=this.jpoint(null,null,null),b=this.jpoint(null,null,null),S=s;S>0;S--){for(h=0;h<a.length;h++)c=a[h],c===S?b=b.mixedAdd(i.points[h]):c===-S&&(b=b.mixedAdd(i.points[h].neg()));m=m.add(b)}return m.toP()};Xt.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,a=hi(t,i,this._bitLength),h=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var d=0;c>=0&&a[c]===0;c--)d++;if(c>=0&&d++,h=h.dblp(d),c<0)break;var m=a[c];ci(m!==0),e.type==="affine"?m>0?h=h.mixedAdd(s[m-1>>1]):h=h.mixedAdd(s[-m-1>>1].neg()):m>0?h=h.add(s[m-1>>1]):h=h.add(s[-m-1>>1].neg())}return e.type==="affine"?h.toP():h};Xt.prototype._wnafMulAdd=function(e,t,i,n,s){var a=this._wnafT1,h=this._wnafT2,c=this._wnafT3,d=0,m,b,S;for(m=0;m<n;m++){S=t[m];var P=S._getNAFPoints(e);a[m]=P.wnd,h[m]=P.points}for(m=n-1;m>=1;m-=2){var T=m-1,N=m;if(a[T]!==1||a[N]!==1){c[T]=hi(i[T],a[T],this._bitLength),c[N]=hi(i[N],a[N],this._bitLength),d=Math.max(c[T].length,d),d=Math.max(c[N].length,d);continue}var k=[t[T],null,null,t[N]];t[T].y.cmp(t[N].y)===0?(k[1]=t[T].add(t[N]),k[2]=t[T].toJ().mixedAdd(t[N].neg())):t[T].y.cmp(t[N].y.redNeg())===0?(k[1]=t[T].toJ().mixedAdd(t[N]),k[2]=t[T].add(t[N].neg())):(k[1]=t[T].toJ().mixedAdd(t[N]),k[2]=t[T].toJ().mixedAdd(t[N].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],ee=Ff(i[T],i[N]);for(d=Math.max(ee[0].length,d),c[T]=new Array(d),c[N]=new Array(d),b=0;b<d;b++){var Ke=ee[0][b]|0,R=ee[1][b]|0;c[T][b]=F[(Ke+1)*3+(R+1)],c[N][b]=0,h[T]=k}}var D=this.jpoint(null,null,null),W=this._wnafT4;for(m=d;m>=0;m--){for(var Ye=0;m>=0;){var st=!0;for(b=0;b<n;b++)W[b]=c[b][m]|0,W[b]!==0&&(st=!1);if(!st)break;Ye++,m--}if(m>=0&&Ye++,D=D.dblp(Ye),m<0)break;for(b=0;b<n;b++){var Ve=W[b];Ve!==0&&(Ve>0?S=h[b][Ve-1>>1]:Ve<0&&(S=h[b][-Ve-1>>1].neg()),S.type==="affine"?D=D.mixedAdd(S):D=D.add(S))}}for(m=0;m<n;m++)h[m]=null;return s?D:D.toP()};function wt(r,e){this.curve=r,this.type=e,this.precomputed=null}Xt.BasePoint=wt;wt.prototype.eq=function(){throw new Error("Not implemented")};wt.prototype.validate=function(){return this.curve.validate(this)};Xt.prototype.decodePoint=function(e,t){e=ct.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?ci(e[e.length-1]%2===0):e[0]===7&&ci(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};wt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wt.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};wt.prototype.encode=function(e,t){return ct.encode(this._encode(t),e)};wt.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};wt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};wt.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)n=n.dbl();i.push(n)}return{step:e,points:i}};wt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}};wt.prototype._getBeta=function(){return null};wt.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var Dn=wr(function(r){typeof Object.create=="function"?r.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}}}),Lf=ct.assert;function bt(r){ar.call(this,"short",r),this.a=new G(r.a,16).toRed(this.red),this.b=new G(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Dn(bt,ar);var Df=bt;bt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new G(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new G(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],Lf(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(h){return{a:new G(h.a,16),b:new G(h.b,16)}}):a=this._getEndoBasis(i),{beta:t,lambda:i,basis:a}}};bt.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:G.mont(e),i=new G(2).toRed(t).redInvm(),n=i.redNeg(),s=new G(3).toRed(t).redNeg().redSqrt().redMul(i),a=n.redAdd(s).fromRed(),h=n.redSub(s).fromRed();return[a,h]};bt.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new G(1),a=new G(0),h=new G(0),c=new G(1),d,m,b,S,P,T,N,k=0,F,ee;i.cmpn(0)!==0;){var Ke=n.div(i);F=n.sub(Ke.mul(i)),ee=h.sub(Ke.mul(s));var R=c.sub(Ke.mul(a));if(!b&&F.cmp(t)<0)d=N.neg(),m=s,b=F.neg(),S=ee;else if(b&&++k===2)break;N=F,n=i,i=F,h=s,s=ee,c=a,a=R}P=F.neg(),T=ee;var D=b.sqr().add(S.sqr()),W=P.sqr().add(T.sqr());return W.cmp(D)>=0&&(P=d,T=m),b.negative&&(b=b.neg(),S=S.neg()),P.negative&&(P=P.neg(),T=T.neg()),[{a:b,b:S},{a:P,b:T}]};bt.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),h=s.mul(i.a),c=a.mul(n.a),d=s.mul(i.b),m=a.mul(n.b),b=e.sub(h).sub(c),S=d.add(m).neg();return{k1:b,k2:S}};bt.prototype.pointFromX=function(e,t){e=new G(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)};bt.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};bt.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var h=this._endoSplit(t[a]),c=e[a],d=c._getBeta();h.k1.negative&&(h.k1.ineg(),c=c.neg(!0)),h.k2.negative&&(h.k2.ineg(),d=d.neg(!0)),n[a*2]=c,n[a*2+1]=d,s[a*2]=h.k1,s[a*2+1]=h.k2}for(var m=this._wnafMulAdd(1,n,s,a*2,i),b=0;b<a*2;b++)n[b]=null,s[b]=null;return m};function He(r,e,t,i){ar.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new G(e,16),this.y=new G(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Dn(He,ar.BasePoint);bt.prototype.point=function(e,t,i){return new He(this,e,t,i)};bt.prototype.pointFromJSON=function(e,t){return He.fromJSON(this,e,t)};He.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};He.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};He.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(h){return e.point(h[0],h[1],i)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(s))}},n};He.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};He.prototype.isInfinity=function(){return this.inf};He.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};He.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),a=s.redSqr().redISub(this.x.redAdd(this.x)),h=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,h)};He.prototype.getX=function(){return this.x.fromRed()};He.prototype.getY=function(){return this.y.fromRed()};He.prototype.mul=function(e){return e=new G(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};He.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};He.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};He.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};He.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t};He.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function qe(r,e,t,i){ar.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new G(0)):(this.x=new G(e,16),this.y=new G(t,16),this.z=new G(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Dn(qe,ar.BasePoint);bt.prototype.jpoint=function(e,t,i){return new qe(this,e,t,i)};qe.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)};qe.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};qe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),h=e.y.redMul(i.redMul(this.z)),c=n.redSub(s),d=a.redSub(h);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),b=m.redMul(c),S=n.redMul(m),P=d.redSqr().redIAdd(b).redISub(S).redISub(S),T=d.redMul(S.redISub(P)).redISub(a.redMul(b)),N=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(P,T,N)};qe.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),h=i.redSub(n),c=s.redSub(a);if(h.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=h.redSqr(),m=d.redMul(h),b=i.redMul(d),S=c.redSqr().redIAdd(m).redISub(b).redISub(b),P=c.redMul(b.redISub(S)).redISub(s.redMul(m)),T=this.z.redMul(h);return this.curve.jpoint(S,P,T)};qe.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,a=this.x,h=this.y,c=this.z,d=c.redSqr().redSqr(),m=h.redAdd(h);for(t=0;t<e;t++){var b=a.redSqr(),S=m.redSqr(),P=S.redSqr(),T=b.redAdd(b).redIAdd(b).redIAdd(n.redMul(d)),N=a.redMul(S),k=T.redSqr().redISub(N.redAdd(N)),F=N.redISub(k),ee=T.redMul(F);ee=ee.redIAdd(ee).redISub(P);var Ke=m.redMul(c);t+1<e&&(d=d.redMul(P)),a=k,c=Ke,m=ee}return this.curve.jpoint(a,m.redMul(s),c)};qe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};qe.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),h=this.x.redAdd(s).redSqr().redISub(n).redISub(a);h=h.redIAdd(h);var c=n.redAdd(n).redIAdd(n),d=c.redSqr().redISub(h).redISub(h),m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),e=d,t=c.redMul(h.redISub(d)).redISub(m),i=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),S=this.y.redSqr(),P=S.redSqr(),T=this.x.redAdd(S).redSqr().redISub(b).redISub(P);T=T.redIAdd(T);var N=b.redAdd(b).redIAdd(b),k=N.redSqr(),F=P.redIAdd(P);F=F.redIAdd(F),F=F.redIAdd(F),e=k.redISub(T).redISub(T),t=N.redMul(T.redISub(e)).redISub(F),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};qe.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),h=this.x.redAdd(s).redSqr().redISub(n).redISub(a);h=h.redIAdd(h);var c=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),d=c.redSqr().redISub(h).redISub(h);e=d;var m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),t=c.redMul(h.redISub(d)).redISub(m),i=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),S=this.y.redSqr(),P=this.x.redMul(S),T=this.x.redSub(b).redMul(this.x.redAdd(b));T=T.redAdd(T).redIAdd(T);var N=P.redIAdd(P);N=N.redIAdd(N);var k=N.redAdd(N);e=T.redSqr().redISub(k),i=this.y.redAdd(this.z).redSqr().redISub(S).redISub(b);var F=S.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),t=T.redMul(N.redISub(e)).redISub(F)}return this.curve.jpoint(e,t,i)};qe.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),a=t.redSqr(),h=i.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),d=t.redAdd(t);d=d.redIAdd(d);var m=d.redMul(h),b=c.redSqr().redISub(m.redAdd(m)),S=m.redISub(b),P=h.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var T=c.redMul(S).redISub(P),N=i.redAdd(i).redMul(n);return this.curve.jpoint(b,T,N)};qe.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),h=this.x.redAdd(t).redSqr().redISub(e).redISub(n);h=h.redIAdd(h),h=h.redAdd(h).redIAdd(h),h=h.redISub(a);var c=h.redSqr(),d=n.redIAdd(n);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var m=s.redIAdd(h).redSqr().redISub(a).redISub(c).redISub(d),b=t.redMul(m);b=b.redIAdd(b),b=b.redIAdd(b);var S=this.x.redMul(c).redISub(b);S=S.redIAdd(S),S=S.redIAdd(S);var P=this.y.redMul(m.redMul(d.redISub(m)).redISub(h.redMul(c)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var T=this.z.redAdd(h).redSqr().redISub(i).redISub(c);return this.curve.jpoint(S,P,T)};qe.prototype.mul=function(e,t){return e=new G(e,t),this.curve._wnafMul(this,e)};qe.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};qe.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};qe.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};qe.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qr=wr(function(r,e){var t=e;t.base=ar,t.short=Df,t.mont=null,t.edwards=null}),ei=wr(function(r,e){var t=e,i=ct.assert;function n(h){h.type==="short"?this.curve=new Qr.short(h):h.type==="edwards"?this.curve=new Qr.edwards(h):this.curve=new Qr.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=n;function s(h,c){Object.defineProperty(t,h,{configurable:!0,enumerable:!0,get:function(){var d=new n(c);return Object.defineProperty(t,h,{configurable:!0,enumerable:!0,value:d}),d}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:at.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:at.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:at.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:at.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:at.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:at.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:at.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:at.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Zt(r){if(!(this instanceof Zt))return new Zt(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_t.toArray(r.entropy,r.entropyEnc||"hex"),t=_t.toArray(r.nonce,r.nonceEnc||"hex"),i=_t.toArray(r.pers,r.persEnc||"hex");Ln(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var bo=Zt;Zt.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Zt.prototype._hmac=function(){return new at.hmac(this.hash,this.K)};Zt.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Zt.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=_t.toArray(e,t),i=_t.toArray(i,n),Ln(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Zt.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=_t.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(i),this._reseed++,_t.encode(a,t)};var pn=ct.assert;function Ze(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Un=Ze;Ze.fromPublic=function(e,t,i){return t instanceof Ze?t:new Ze(e,{pub:t,pubEnc:i})};Ze.fromPrivate=function(e,t,i){return t instanceof Ze?t:new Ze(e,{priv:t,privEnc:i})};Ze.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ze.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Ze.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ze.prototype._importPrivate=function(e,t){this.priv=new G(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Ze.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?pn(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&pn(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Ze.prototype.derive=function(e){return e.validate()||pn(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ze.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};Ze.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Ze.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Uf=ct.assert;function bi(r,e){if(r instanceof bi)return r;this._importDER(r,e)||(Uf(r.r&&r.s,"Signature without r or s"),this.r=new G(r.r,16),this.s=new G(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var xi=bi;function Gf(){this.place=0}function tn(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var n=0,s=0,a=e.place;s<i;s++,a++)n<<=8,n|=r[a],n>>>=0;return n<=127?!1:(e.place=a,n)}function Is(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}bi.prototype._importDER=function(e,t){e=ct.toArray(e,t);var i=new Gf;if(e[i.place++]!==48)return!1;var n=tn(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=tn(e,i);if(s===!1)return!1;var a=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var h=tn(e,i);if(h===!1||e.length!==h+i.place)return!1;var c=e.slice(i.place,h+i.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new G(a),this.s=new G(c),this.recoveryParam=null,!0};function rn(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}bi.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=Is(t),i=Is(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];rn(n,t.length),n=n.concat(t),n.push(2),rn(n,i.length);var s=n.concat(i),a=[48];return rn(a,s.length),a=a.concat(s),ct.encode(a,e)};var $f=function(){throw new Error("unsupported")},xo=ct.assert;function yt(r){if(!(this instanceof yt))return new yt(r);typeof r=="string"&&(xo(Object.prototype.hasOwnProperty.call(ei,r),"Unknown curve "+r),r=ei[r]),r instanceof ei.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Kf=yt;yt.prototype.keyPair=function(e){return new Un(this,e)};yt.prototype.keyFromPrivate=function(e,t){return Un.fromPrivate(this,e,t)};yt.prototype.keyFromPublic=function(e,t){return Un.fromPublic(this,e,t)};yt.prototype.genKeyPair=function(e){e||(e={});for(var t=new bo({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$f(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new G(2));;){var s=new G(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};yt.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};yt.prototype.sign=function(e,t,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new G(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),h=e.toArray("be",s),c=new bo({hash:this.hash,entropy:a,nonce:h,pers:n.pers,persEnc:n.persEnc||"utf8"}),d=this.n.sub(new G(1)),m=0;;m++){var b=n.k?n.k(m):new G(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(d)>=0)){var S=this.g.mul(b);if(!S.isInfinity()){var P=S.getX(),T=P.umod(this.n);if(T.cmpn(0)!==0){var N=b.invm(this.n).mul(T.mul(t.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var k=(S.getY().isOdd()?1:0)|(P.cmp(T)!==0?2:0);return n.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),k^=1),new xi({r:T,s:N,recoveryParam:k})}}}}}};yt.prototype.verify=function(e,t,i,n){e=this._truncateToN(new G(e,16)),i=this.keyFromPublic(i,n),t=new xi(t,"hex");var s=t.r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var h=a.invm(this.n),c=h.mul(e).umod(this.n),d=h.mul(s).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(c,i.getPublic(),d),m.isInfinity()?!1:m.eqXToP(s)):(m=this.g.mulAdd(c,i.getPublic(),d),m.isInfinity()?!1:m.getX().umod(this.n).cmp(s)===0)};yt.prototype.recoverPubKey=function(r,e,t,i){xo((3&t)===t,"The recovery param is more than two bits"),e=new xi(e,i);var n=this.n,s=new G(r),a=e.r,h=e.s,c=t&1,d=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var m=e.r.invm(n),b=n.sub(s).mul(m).umod(n),S=h.mul(m).umod(n);return this.g.mulAdd(b,a,S)};yt.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new xi(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch{continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")};var zf=wr(function(r,e){var t=e;t.version="6.5.4",t.utils=ct,t.rand=function(){throw new Error("unsupported")},t.curve=Qr,t.curves=ei,t.ec=Kf,t.eddsa=null}),Hf=zf.ec;const jf="signing-key/5.6.2",gn=new M(jf);let nn=null;function Lt(){return nn||(nn=new Hf("secp256k1")),nn}class pr{constructor(e){_(this,"curve","secp256k1"),_(this,"privateKey",O(e)),Sn(this.privateKey)!==32&&gn.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Lt().keyFromPrivate(C(this.privateKey));_(this,"publicKey","0x"+t.getPublic(!1,"hex")),_(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),_(this,"_isSigningKey",!0)}_addPoint(e){const t=Lt().keyFromPublic(C(this.publicKey)),i=Lt().keyFromPublic(C(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=Lt().keyFromPrivate(C(this.privateKey)),i=C(e);i.length!==32&&gn.throwArgumentError("bad digest length","digest",e);const n=t.sign(i,{canonical:!0});return Gr({recoveryParam:n.recoveryParam,r:Pt("0x"+n.r.toString(16),32),s:Pt("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Lt().keyFromPrivate(C(this.privateKey)),i=Lt().keyFromPublic(C(Ao(e)));return Pt("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Ao(r,e){const t=C(r);if(t.length===32){const i=new pr(t);return e?"0x"+Lt().keyFromPrivate(t).getPublic(!0,"hex"):i.publicKey}else{if(t.length===33)return e?O(t):"0x"+Lt().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Lt().keyFromPublic(t).getPublic(!0,"hex"):O(t)}return gn.throwArgumentError("invalid public or private key","key","[REDACTED]")}const qf="transactions/5.6.2",St=new M(qf);var ks;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(ks||(ks={}));const Vf=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Wf={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function gr(r){const e=Ao(r);return Tt(ir(Xe(ir(e,1)),12))}function ut(r,e){const t=Gt(Y.from(r).toHexString());return t.length>32&&St.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function sn(r,e){return{address:Tt(r),storageKeys:(e||[]).map((t,i)=>(Sn(t)!==32&&St.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function Jf(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&St.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),sn(t[0],t[1])):sn(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const i=r[t].reduce((n,s)=>(n[s]=!0,n),{});return sn(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function Eo(r){return Jf(r).map(e=>[e.address,e.storageKeys])}function Zf(r,e){if(r.gasPrice!=null){const i=Y.from(r.gasPrice),n=Y.from(r.maxFeePerGas||0);i.eq(n)||St.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:i,maxFeePerGas:n})}const t=[ut(r.chainId||0,"chainId"),ut(r.nonce||0,"nonce"),ut(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ut(r.maxFeePerGas||0,"maxFeePerGas"),ut(r.gasLimit||0,"gasLimit"),r.to!=null?Tt(r.to):"0x",ut(r.value||0,"value"),r.data||"0x",Eo(r.accessList||[])];if(e){const i=Gr(e);t.push(ut(i.recoveryParam,"recoveryParam")),t.push(Gt(i.r)),t.push(Gt(i.s))}return tr(["0x02",fi(t)])}function Xf(r,e){const t=[ut(r.chainId||0,"chainId"),ut(r.nonce||0,"nonce"),ut(r.gasPrice||0,"gasPrice"),ut(r.gasLimit||0,"gasLimit"),r.to!=null?Tt(r.to):"0x",ut(r.value||0,"value"),r.data||"0x",Eo(r.accessList||[])];if(e){const i=Gr(e);t.push(ut(i.recoveryParam,"recoveryParam")),t.push(Gt(i.r)),t.push(Gt(i.s))}return tr(["0x01",fi(t)])}function Yf(r,e){qo(r,Wf);const t=[];Vf.forEach(function(a){let h=r[a.name]||[];const c={};a.numeric&&(c.hexPad="left"),h=C(O(h,c)),a.length&&h.length!==a.length&&h.length>0&&St.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,h),a.maxLength&&(h=Gt(h),h.length>a.maxLength&&St.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,h)),t.push(O(h))});let i=0;if(r.chainId!=null?(i=r.chainId,typeof i!="number"&&St.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!En(e)&&e.v>28&&(i=Math.floor((e.v-35)/2)),i!==0&&(t.push(O(i)),t.push("0x"),t.push("0x")),!e)return fi(t);const n=Gr(e);let s=27+n.recoveryParam;return i!==0?(t.pop(),t.pop(),t.pop(),s+=i*2+8,n.v>28&&n.v!==s&&St.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):n.v!==s&&St.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(O(s)),t.push(Gt(C(n.r))),t.push(Gt(C(n.s))),fi(t)}function Rs(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&St.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),Yf(r,e);switch(r.type){case 1:return Xf(r,e);case 2:return Zf(r,e)}return St.throwError(`unsupported transaction type: ${r.type}`,M.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}const Qf="wordlists/5.6.1",eu=new M(Qf);class zr{constructor(e){eu.checkAbstract(new.target,zr),_(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let i=0;i<2048;i++){const n=e.getWord(i);if(i!==e.getWordIndex(n))return"0x";t.push(n)}return On(t.join(`
`)+`
`)}static register(e,t){}}const tu="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Pr=null;function Os(r){if(Pr==null&&(Pr=tu.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),zr.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Pr=null,new Error("BIP39 Wordlist for en (English) FAILED")}class ru extends zr{constructor(){super("en")}getWord(e){return Os(this),Pr[e]}getWordIndex(e){return Os(this),Pr.indexOf(e)}}const So=new ru;zr.register(So);const Fs={en:So},iu="hdnode/5.6.2",li=new M(iu),nu=Y.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),su=$t("Bitcoin seed"),br=2147483648;function _o(r){return(1<<r)-1<<8-r}function ou(r){return(1<<r)-1}function Wr(r){return Pt(O(r),32)}function Ls(r){return yo.encode($e([r,ir(Fr(Fr(r)),0,4)]))}function Gn(r){if(r==null)return Fs.en;if(typeof r=="string"){const e=Fs[r];return e==null&&li.throwArgumentError("unknown locale","wordlist",r),e}return r}const fr={},Lr="m/44'/60'/0'/0/0";class mt{constructor(e,t,i,n,s,a,h,c){if(e!==fr)throw new Error("HDNode constructor cannot be called directly");if(t){const d=new pr(t);_(this,"privateKey",d.privateKey),_(this,"publicKey",d.compressedPublicKey)}else _(this,"privateKey",null),_(this,"publicKey",O(i));_(this,"parentFingerprint",n),_(this,"fingerprint",ir(Rf(Fr(this.publicKey)),0,4)),_(this,"address",gr(this.publicKey)),_(this,"chainCode",s),_(this,"index",a),_(this,"depth",h),c==null?(_(this,"mnemonic",null),_(this,"path",null)):typeof c=="string"?(_(this,"mnemonic",null),_(this,"path",c)):(_(this,"mnemonic",c),_(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ls($e([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",O(this.depth),this.parentFingerprint,Pt(O(this.index),4),this.chainCode,this.privateKey!=null?$e(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new mt(fr,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~br));const i=new Uint8Array(37);if(e&br){if(!this.privateKey)throw new Error("cannot derive child of neutered node");i.set(C(this.privateKey),1),t&&(t+="'")}else i.set(C(this.publicKey));for(let b=24;b>=0;b-=8)i[33+(b>>3)]=e>>24-b&255;const n=C(ui(Or.sha512,this.chainCode,i)),s=n.slice(0,32),a=n.slice(32);let h=null,c=null;this.privateKey?h=Wr(Y.from(s).add(this.privateKey).mod(nu)):c=new pr(O(s))._addPoint(this.publicKey);let d=t;const m=this.mnemonic;return m&&(d=Object.freeze({phrase:m.phrase,path:t,locale:m.locale||"en"})),new mt(fr,h,c,this.fingerprint,Wr(a),e,this.depth+1,d)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let i=this;for(let n=0;n<t.length;n++){const s=t[n];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));if(a>=br)throw new Error("invalid path index - "+s);i=i._derive(br+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);if(a>=br)throw new Error("invalid path index - "+s);i=i._derive(a)}else throw new Error("invalid path component - "+s)}return i}static _fromSeed(e,t){const i=C(e);if(i.length<16||i.length>64)throw new Error("invalid seed");const n=C(ui(Or.sha512,su,i));return new mt(fr,Wr(n.slice(0,32)),null,"0x00000000",Wr(n.slice(32)),0,0,t)}static fromMnemonic(e,t,i){return i=Gn(i),e=$n(Mo(e,i),i),mt._fromSeed(au(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return mt._fromSeed(e,null)}static fromExtendedKey(e){const t=yo.decode(e);(t.length!==82||Ls(t.slice(0,78))!==e)&&li.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const i=t[4],n=O(t.slice(5,9)),s=parseInt(O(t.slice(9,13)).substring(2),16),a=O(t.slice(13,45)),h=t.slice(45,78);switch(O(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new mt(fr,null,O(h),n,a,s,i,null);case"0x0488ade4":case"0x04358394 ":if(h[0]!==0)break;return new mt(fr,O(h.slice(1)),null,n,a,s,i,null)}return li.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function au(r,e){e||(e="");const t=$t("mnemonic"+e,sr.NFKD);return Fn($t(r,sr.NFKD),t,2048,64,"sha512")}function Mo(r,e){e=Gn(e),li.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const i=C(new Uint8Array(Math.ceil(11*t.length/8)));let n=0;for(let d=0;d<t.length;d++){let m=e.getWordIndex(t[d].normalize("NFKD"));if(m===-1)throw new Error("invalid mnemonic");for(let b=0;b<11;b++)m&1<<10-b&&(i[n>>3]|=1<<7-n%8),n++}const s=32*t.length/3,a=t.length/3,h=_o(a);if((C(Fr(i.slice(0,s/8)))[0]&h)!==(i[i.length-1]&h))throw new Error("invalid checksum");return O(i.slice(0,s/8))}function $n(r,e){if(e=Gn(e),r=C(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let i=11;for(let a=0;a<r.length;a++)i>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],i-=8):(t[t.length-1]<<=i,t[t.length-1]|=r[a]>>8-i,t.push(r[a]&ou(8-i)),i+=3);const n=r.length/4,s=C(Fr(r))[0]&_o(n);return t[t.length-1]<<=n,t[t.length-1]|=s>>8-n,e.join(t.map(a=>e.getWord(a)))}const fu="random/5.6.1",mn=new M(fu);function uu(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}const Ds=uu();let ti=Ds.crypto||Ds.msCrypto;(!ti||!ti.getRandomValues)&&(mn.warn("WARNING: Missing strong random number source"),ti={getRandomValues:function(r){return mn.throwError("no secure random source avaialble",M.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Sr(r){(r<=0||r>1024||r%1||r!=r)&&mn.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return ti.getRandomValues(e),C(e)}const Po="json-wallets/5.6.1";function rr(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),C(r)}function xr(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function Kn(r){return typeof r=="string"?$t(r,sr.NFKC):C(r)}function ne(r,e){let t=r;const i=e.toLowerCase().split("/");for(let n=0;n<i.length;n++){let s=null;for(const a in t)if(a.toLowerCase()===i[n]){s=t[a];break}if(s===null)return null;t=s}return t}function hu(r){const e=C(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=O(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const cu=new M(Po);class lu extends yr{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function To(r,e){const t=JSON.parse(r);e=Kn(e);const i=Tt(ne(t,"ethaddr")),n=rr(ne(t,"encseed"));(!n||n.length%16!==0)&&cu.throwArgumentError("invalid encseed","json",r);const s=C(Fn(e,e,2e3,32,"sha256")).slice(0,16),a=n.slice(0,16),h=n.slice(16),c=new It.ModeOfOperation.cbc(s,a),d=It.padding.pkcs7.strip(C(c.decrypt(h)));let m="";for(let P=0;P<d.length;P++)m+=String.fromCharCode(d[P]);const b=$t(m),S=Xe(b);return new lu({_isCrowdsaleAccount:!0,address:i,privateKey:S})}function No(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function Co(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var du=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const vn=new M(Po);function Us(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class pu extends yr{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function gu(r,e,t){if(ne(r,"crypto/cipher")==="aes-128-ctr"){const n=rr(ne(r,"crypto/cipherparams/iv")),s=new It.Counter(n),a=new It.ModeOfOperation.ctr(e,s);return C(a.decrypt(t))}return null}function Bo(r,e){const t=rr(ne(r,"crypto/ciphertext"));if(O(Xe($e([e.slice(16,32),t]))).substring(2)!==ne(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=gu(r,e.slice(0,16),t);n||vn.throwError("unsupported cipher",M.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),a=gr(n);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Tt(c)!==a)throw new Error("address mismatch")}const h={_isKeystoreAccount:!0,address:a,privateKey:O(n)};if(ne(r,"x-ethers/version")==="0.1"){const c=rr(ne(r,"x-ethers/mnemonicCiphertext")),d=rr(ne(r,"x-ethers/mnemonicCounter")),m=new It.Counter(d),b=new It.ModeOfOperation.ctr(s,m),S=ne(r,"x-ethers/path")||Lr,P=ne(r,"x-ethers/locale")||"en",T=C(b.decrypt(c));try{const N=$n(T,P),k=mt.fromMnemonic(N,null,P).derivePath(S);if(k.privateKey!=h.privateKey)throw new Error("mnemonic mismatch");h.mnemonic=k.mnemonic}catch(N){if(N.code!==M.errors.INVALID_ARGUMENT||N.argument!=="wordlist")throw N}}return new pu(h)}function Io(r,e,t,i,n){return C(Fn(r,e,t,i,n))}function mu(r,e,t,i,n){return Promise.resolve(Io(r,e,t,i,n))}function ko(r,e,t,i,n){const s=Kn(e),a=ne(r,"crypto/kdf");if(a&&typeof a=="string"){const h=function(c,d){return vn.throwArgumentError("invalid key-derivation function parameters",c,d)};if(a.toLowerCase()==="scrypt"){const c=rr(ne(r,"crypto/kdfparams/salt")),d=parseInt(ne(r,"crypto/kdfparams/n")),m=parseInt(ne(r,"crypto/kdfparams/r")),b=parseInt(ne(r,"crypto/kdfparams/p"));(!d||!m||!b)&&h("kdf",a),(d&d-1)!==0&&h("N",d);const S=parseInt(ne(r,"crypto/kdfparams/dklen"));return S!==32&&h("dklen",S),i(s,c,d,m,b,64,n)}else if(a.toLowerCase()==="pbkdf2"){const c=rr(ne(r,"crypto/kdfparams/salt"));let d=null;const m=ne(r,"crypto/kdfparams/prf");m==="hmac-sha256"?d="sha256":m==="hmac-sha512"?d="sha512":h("prf",m);const b=parseInt(ne(r,"crypto/kdfparams/c")),S=parseInt(ne(r,"crypto/kdfparams/dklen"));return S!==32&&h("dklen",S),t(s,c,b,S,d)}}return vn.throwArgumentError("unsupported key-derivation function","kdf",a)}function vu(r,e){const t=JSON.parse(r),i=ko(t,e,Io,Mn.syncScrypt);return Bo(t,i)}function yu(r,e,t){return du(this,void 0,void 0,function*(){const i=JSON.parse(r),n=yield ko(i,e,mu,Mn.scrypt,t);return Bo(i,n)})}function wu(r,e,t,i){try{if(Tt(r.address)!==gr(r.privateKey))throw new Error("address/privateKey mismatch");if(Us(r)){const k=r.mnemonic;if(mt.fromMnemonic(k.phrase,null,k.locale).derivePath(k.path||Lr).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(k){return Promise.reject(k)}typeof t=="function"&&!i&&(i=t,t={}),t||(t={});const n=C(r.privateKey),s=Kn(e);let a=null,h=null,c=null;if(Us(r)){const k=r.mnemonic;a=C(Mo(k.phrase,k.locale||"en")),h=k.path||Lr,c=k.locale||"en"}let d=t.client;d||(d="ethers.js");let m=null;t.salt?m=C(t.salt):m=Sr(32);let b=null;if(t.iv){if(b=C(t.iv),b.length!==16)throw new Error("invalid iv")}else b=Sr(16);let S=null;if(t.uuid){if(S=C(t.uuid),S.length!==16)throw new Error("invalid uuid")}else S=Sr(16);let P=1<<17,T=8,N=1;return t.scrypt&&(t.scrypt.N&&(P=t.scrypt.N),t.scrypt.r&&(T=t.scrypt.r),t.scrypt.p&&(N=t.scrypt.p)),Mn.scrypt(s,m,P,T,N,64,i).then(k=>{k=C(k);const F=k.slice(0,16),ee=k.slice(16,32),Ke=k.slice(32,64),R=new It.Counter(b),D=new It.ModeOfOperation.ctr(F,R),W=C(D.encrypt(n)),Ye=Xe($e([ee,W])),st={address:r.address.substring(2).toLowerCase(),id:hu(S),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:O(b).substring(2)},ciphertext:O(W).substring(2),kdf:"scrypt",kdfparams:{salt:O(m).substring(2),n:P,dklen:32,p:N,r:T},mac:Ye.substring(2)}};if(a){const Ve=Sr(16),B=new It.Counter(Ve),A=new It.ModeOfOperation.ctr(Ke,B),I=C(A.encrypt(a)),p=new Date,o=p.getUTCFullYear()+"-"+xr(p.getUTCMonth()+1,2)+"-"+xr(p.getUTCDate(),2)+"T"+xr(p.getUTCHours(),2)+"-"+xr(p.getUTCMinutes(),2)+"-"+xr(p.getUTCSeconds(),2)+".0Z";st["x-ethers"]={client:d,gethFilename:"UTC--"+o+"--"+st.address,mnemonicCounter:O(Ve).substring(2),mnemonicCiphertext:O(I).substring(2),path:h,locale:c,version:"0.1"}}return JSON.stringify(st)})}function bu(r,e,t){if(No(r)){t&&t(0);const i=To(r,e);return t&&t(1),Promise.resolve(i)}return Co(r)?yu(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function xu(r,e){if(No(r))return To(r,e);if(Co(r))return vu(r,e);throw new Error("invalid JSON wallet")}const Au="wallet/5.6.0";var Gs=globalThis&&globalThis.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(m){try{d(i.next(m))}catch(b){a(b)}}function c(m){try{d(i.throw(m))}catch(b){a(b)}}function d(m){m.done?s(m.value):n(m.value).then(h,c)}d((i=i.apply(r,e||[])).next())})};const Qt=new M(Au);function Eu(r){return r!=null&&je(r.privateKey,32)&&r.address!=null}function Su(r){const e=r.mnemonic;return e&&e.phrase}class jt extends Rn{constructor(e,t){if(Qt.checkNew(new.target,jt),super(),Eu(e)){const i=new pr(e.privateKey);if(_(this,"_signingKey",()=>i),_(this,"address",gr(this.publicKey)),this.address!==Tt(e.address)&&Qt.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Su(e)){const n=e.mnemonic;_(this,"_mnemonic",()=>({phrase:n.phrase,path:n.path||Lr,locale:n.locale||"en"}));const s=this.mnemonic,a=mt.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);gr(a.privateKey)!==this.address&&Qt.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else _(this,"_mnemonic",()=>null)}else{if(pr.isSigningKey(e))e.curve!=="secp256k1"&&Qt.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),_(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const i=new pr(e);_(this,"_signingKey",()=>i)}_(this,"_mnemonic",()=>null),_(this,"address",gr(this.publicKey))}t&&!kn.isProvider(t)&&Qt.throwArgumentError("invalid provider","provider",t),_(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new jt(this,e)}signTransaction(e){return it(e).then(t=>{t.from!=null&&(Tt(t.from)!==this.address&&Qt.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const i=this._signingKey().signDigest(Xe(Rs(t)));return Rs(t,i)})}signMessage(e){return Gs(this,void 0,void 0,function*(){return hn(this._signingKey().signDigest(Sf(e)))})}_signTypedData(e,t,i){return Gs(this,void 0,void 0,function*(){const n=yield ot.resolveNames(e,t,i,s=>(this.provider==null&&Qt.throwError("cannot resolve ENS names without a provider",M.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return hn(this._signingKey().signDigest(ot.hash(n.domain,t,n.value)))})}encrypt(e,t,i){if(typeof t=="function"&&!i&&(i=t,t={}),i&&typeof i!="function")throw new Error("invalid callback");return t||(t={}),wu(this,e,t,i)}static createRandom(e){let t=Sr(16);e||(e={}),e.extraEntropy&&(t=C(ir(Xe($e([t,e.extraEntropy])),0,16)));const i=$n(t,e.locale);return jt.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,i){return bu(e,t,i).then(n=>new jt(n))}static fromEncryptedJsonSync(e,t){return new jt(xu(e,t))}static fromMnemonic(e,t,i){return t||(t=Lr),new jt(mt.fromMnemonic(e,null,i).derivePath(t))}}function _u(r){return"0x"+mi.keccak_256(C(r))}const Mu="bignumber/5.6.2";var yn=G.BN;const Ft=new M(Mu),on={},$s=9007199254740991;let Ks=!1;class rt{constructor(e,t){e!==on&&Ft.throwError("cannot call constructor directly; use BigNumber.from",M.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return tt(H(this).fromTwos(e))}toTwos(e){return tt(H(this).toTwos(e))}abs(){return this._hex[0]==="-"?rt.from(this._hex.substring(1)):this}add(e){return tt(H(this).add(H(e)))}sub(e){return tt(H(this).sub(H(e)))}div(e){return rt.from(e).isZero()&&pt("division-by-zero","div"),tt(H(this).div(H(e)))}mul(e){return tt(H(this).mul(H(e)))}mod(e){const t=H(e);return t.isNeg()&&pt("division-by-zero","mod"),tt(H(this).umod(t))}pow(e){const t=H(e);return t.isNeg()&&pt("negative-power","pow"),tt(H(this).pow(t))}and(e){const t=H(e);return(this.isNegative()||t.isNeg())&&pt("unbound-bitwise-result","and"),tt(H(this).and(t))}or(e){const t=H(e);return(this.isNegative()||t.isNeg())&&pt("unbound-bitwise-result","or"),tt(H(this).or(t))}xor(e){const t=H(e);return(this.isNegative()||t.isNeg())&&pt("unbound-bitwise-result","xor"),tt(H(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&pt("negative-width","mask"),tt(H(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&pt("negative-width","shl"),tt(H(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&pt("negative-width","shr"),tt(H(this).shrn(e))}eq(e){return H(this).eq(H(e))}lt(e){return H(this).lt(H(e))}lte(e){return H(this).lte(H(e))}gt(e){return H(this).gt(H(e))}gte(e){return H(this).gte(H(e))}isNegative(){return this._hex[0]==="-"}isZero(){return H(this).isZero()}toNumber(){try{return H(this).toNumber()}catch{pt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ft.throwError("this platform does not support BigInt",M.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ks||(Ks=!0,Ft.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ft.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",M.errors.UNEXPECTED_ARGUMENT,{}):Ft.throwError("BigNumber.toString does not accept parameters",M.errors.UNEXPECTED_ARGUMENT,{})),H(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof rt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new rt(on,Dr(e)):e.match(/^-?[0-9]+$/)?new rt(on,Dr(new yn(e))):Ft.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&pt("underflow","BigNumber.from",e),(e>=$s||e<=-$s)&&pt("overflow","BigNumber.from",e),rt.from(String(e));const t=e;if(typeof t=="bigint")return rt.from(t.toString());if(gi(t))return rt.from(O(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return rt.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(je(i)||i[0]==="-"&&je(i.substring(1))))return rt.from(i)}return Ft.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Dr(r){if(typeof r!="string")return Dr(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ft.throwArgumentError("invalid hex","value",r),r=Dr(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function tt(r){return rt.from(Dr(r))}function H(r){const e=rt.from(r).toHexString();return e[0]==="-"?new yn("-"+e.substring(3),16):new yn(e.substring(2),16)}function pt(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),Ft.throwError(r,M.errors.NUMERIC_FAULT,i)}function Pu(r){return"0x"+mi.keccak_256(C(r))}const Tu="strings/5.6.1",Ro=new M(Tu);var di;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(di||(di={}));var mr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(mr||(mr={}));function Nu(r,e,t,i,n){return Ro.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Oo(r,e,t,i,n){if(r===mr.BAD_PREFIX||r===mr.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r===mr.OVERRUN?t.length-e-1:0}function Cu(r,e,t,i,n){return r===mr.OVERLONG?(i.push(n),0):(i.push(65533),Oo(r,e,t))}Object.freeze({error:Nu,ignore:Oo,replace:Cu});function Bu(r,e=di.current){e!=di.current&&(Ro.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;const s=r.charCodeAt(i);if(i>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((n&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return C(t)}const Iu="solidity/5.6.0",ku=new RegExp("^bytes([0-9]+)$"),Ru=new RegExp("^(u?int)([0-9]*)$"),Ou=new RegExp("^(.*)\\[([0-9]*)\\]$"),Fu="0000000000000000000000000000000000000000000000000000000000000000",hr=new M(Iu);function Fo(r,e,t){switch(r){case"address":return t?Ji(e,32):C(e);case"string":return Bu(e);case"bytes":return C(e);case"bool":return e=e?"0x01":"0x00",t?Ji(e,32):C(e)}let i=r.match(Ru);if(i){let n=parseInt(i[2]||"256");return(i[2]&&String(n)!==i[2]||n%8!==0||n===0||n>256)&&hr.throwArgumentError("invalid number type","type",r),t&&(n=256),e=rt.from(e).toTwos(n),Ji(e,n/8)}if(i=r.match(ku),i){const n=parseInt(i[1]);return(String(n)!==i[1]||n===0||n>32)&&hr.throwArgumentError("invalid bytes type","type",r),C(e).byteLength!==n&&hr.throwArgumentError(`invalid value for ${r}`,"value",e),t?C((e+Fu).substring(0,66)):e}if(i=r.match(Ou),i&&Array.isArray(e)){const n=i[1];parseInt(i[2]||String(e.length))!=e.length&&hr.throwArgumentError(`invalid array length for ${r}`,"value",e);const a=[];return e.forEach(function(h){a.push(Fo(n,h,!0))}),$e(a)}return hr.throwArgumentError("invalid type","type",r)}function Lu(r,e){r.length!=e.length&&hr.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(i,n){t.push(Fo(i,e[n]))}),O($e(t))}function Du(r,e){return Pu(Lu(r,e))}const Uu="random/5.6.0",wn=new M(Uu);function Gu(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}const zs=Gu();let ri=zs.crypto||zs.msCrypto;(!ri||!ri.getRandomValues)&&(wn.warn("WARNING: Missing strong random number source"),ri={getRandomValues:function(r){return wn.throwError("no secure random source avaialble",M.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Jr(r){(r<=0||r>1024||r%1||r!=r)&&wn.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return ri.getRandomValues(e),C(e)}const $u="ethers/5.6.4";new M($u);var Mt={},zn={},nt={},Ku=X&&X.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),zu=X&&X.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hu=X&&X.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ku(e,r,t);return zu(e,r),e},ju=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nt,"__esModule",{value:!0});nt.rlp=nt.BN=void 0;var qu=ju(Pn.exports);nt.BN=qu.default;var Vu=Hu(Vo);nt.rlp=Vu;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=r.MAX_UINT64=void 0;var e=Wo,t=nt;r.MAX_UINT64=new t.BN("ffffffffffffffff",16),r.MAX_INTEGER=new t.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new t.BN("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=e.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=e.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=e.Buffer.from(r.KECCAK256_RLP_S,"hex")})(zn);var Hn={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.isHexString=Z.getKeys=Z.fromAscii=Z.fromUtf8=Z.toAscii=Z.arrayContainsArray=Z.getBinarySize=Z.padToEven=Z.stripHexPrefix=Z.isHexPrefixed=void 0;function Lo(r){if(typeof r!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof r));return r[0]==="0"&&r[1]==="x"}Z.isHexPrefixed=Lo;var Wu=function(r){if(typeof r!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof r));return Lo(r)?r.slice(2):r};Z.stripHexPrefix=Wu;function Do(r){var e=r;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Z.padToEven=Do;function Ju(r){if(typeof r!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof r));return Buffer.byteLength(r,"utf8")}Z.getBinarySize=Ju;function Zu(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof r,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[t?"some":"every"](function(i){return r.indexOf(i)>=0})}Z.arrayContainsArray=Zu;function Xu(r){var e="",t=0,i=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<i;t+=2){var n=parseInt(r.substr(t,2),16);e+=String.fromCharCode(n)}return e}Z.toAscii=Xu;function Yu(r){var e=Buffer.from(r,"utf8");return"0x".concat(Do(e.toString("hex")).replace(/^0+|0+$/g,""))}Z.fromUtf8=Yu;function Qu(r){for(var e="",t=0;t<r.length;t++){var i=r.charCodeAt(t),n=i.toString(16);e+=n.length<2?"0".concat(n):n}return"0x".concat(e)}Z.fromAscii=Qu;function eh(r,e,t){if(!Array.isArray(r))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof r));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof r));for(var i=[],n=0;n<r.length;n++){var s=r[n][e];if(t&&!s)s="";else if(typeof s!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof s));i.push(s)}return i}Z.getKeys=eh;function th(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Z.isHexString=th;var Yt={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.assertIsString=ht.assertIsArray=ht.assertIsBuffer=ht.assertIsHexString=void 0;var rh=Z,ih=function(r){if(!(0,rh.isHexString)(r)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(r);throw new Error(e)}};ht.assertIsHexString=ih;var nh=function(r){if(!Buffer.isBuffer(r)){var e="This method only supports Buffer but input was: ".concat(r);throw new Error(e)}};ht.assertIsBuffer=nh;var sh=function(r){if(!Array.isArray(r)){var e="This method only supports number arrays but input was: ".concat(r);throw new Error(e)}};ht.assertIsArray=sh;var oh=function(r){if(typeof r!="string"){var e="This method only supports strings but input was: ".concat(r);throw new Error(e)}};ht.assertIsString=oh;(function(r){var e=X&&X.__values||function(A){var I=typeof Symbol=="function"&&Symbol.iterator,p=I&&A[I],o=0;if(p)return p.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&o>=A.length&&(A=void 0),{value:A&&A[o++],done:!A}}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.")},t=X&&X.__read||function(A,I){var p=typeof Symbol=="function"&&A[Symbol.iterator];if(!p)return A;var o=p.call(A),u,l=[],g;try{for(;(I===void 0||I-- >0)&&!(u=o.next()).done;)l.push(u.value)}catch(w){g={error:w}}finally{try{u&&!u.done&&(p=o.return)&&p.call(o)}finally{if(g)throw g.error}}return l};Object.defineProperty(r,"__esModule",{value:!0}),r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;var i=nt,n=Z,s=ht,a=function(A){if(!Number.isSafeInteger(A)||A<0)throw new Error("Received an invalid integer type: ".concat(A));return"0x".concat(A.toString(16))};r.intToHex=a;var h=function(A){var I=(0,r.intToHex)(A);return Buffer.from((0,n.padToEven)(I.slice(2)),"hex")};r.intToBuffer=h;var c=function(A){return Buffer.allocUnsafe(A).fill(0)};r.zeros=c;var d=function(A,I,p){var o=(0,r.zeros)(I);return p?A.length<I?(A.copy(o),o):A.slice(0,I):A.length<I?(A.copy(o,I-A.length),o):A.slice(-I)},m=function(A,I){return(0,s.assertIsBuffer)(A),d(A,I,!1)};r.setLengthLeft=m;var b=function(A,I){return(0,s.assertIsBuffer)(A),d(A,I,!0)};r.setLengthRight=b;var S=function(A){for(var I=A[0];A.length>0&&I.toString()==="0";)A=A.slice(1),I=A[0];return A},P=function(A){return(0,s.assertIsBuffer)(A),S(A)};r.unpadBuffer=P;var T=function(A){return(0,s.assertIsArray)(A),S(A)};r.unpadArray=T;var N=function(A){return(0,s.assertIsHexString)(A),A=(0,n.stripHexPrefix)(A),S(A)};r.unpadHexString=N;var k=function(A){if(A==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(A)||Array.isArray(A)||A instanceof Uint8Array)return Buffer.from(A);if(typeof A=="string"){if(!(0,n.isHexString)(A))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(A));return Buffer.from((0,n.padToEven)((0,n.stripHexPrefix)(A)),"hex")}if(typeof A=="number")return(0,r.intToBuffer)(A);if(i.BN.isBN(A)){if(A.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(A));return A.toArrayLike(Buffer)}if(A.toArray)return Buffer.from(A.toArray());if(A.toBuffer)return Buffer.from(A.toBuffer());throw new Error("invalid type")};r.toBuffer=k;var F=function(A){return new i.BN((0,r.toBuffer)(A)).toNumber()};r.bufferToInt=F;var ee=function(A){return A=(0,r.toBuffer)(A),"0x"+A.toString("hex")};r.bufferToHex=ee;var Ke=function(A){return new i.BN(A).fromTwos(256)};r.fromSigned=Ke;var R=function(A){return Buffer.from(A.toTwos(256).toArray())};r.toUnsigned=R;var D=function(A){return typeof A!="string"||(0,n.isHexPrefixed)(A)?A:"0x"+A};r.addHexPrefix=D;var W=function(A){var I=/^(00)+|(00)+$/g;if(A=(0,n.stripHexPrefix)(A),A.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var p=Buffer.from(A.replace(I,""),"hex");return p.toString("utf8")};r.toUtf8=W;var Ye=function(A){if(Buffer.isBuffer(A))return"0x".concat(A.toString("hex"));if(A instanceof Array){for(var I=[],p=0;p<A.length;p++)I.push((0,r.baToJSON)(A[p]));return I}};r.baToJSON=Ye;var st=function(A){var I,p;try{for(var o=e(Object.entries(A)),u=o.next();!u.done;u=o.next()){var l=t(u.value,2),g=l[0],w=l[1];if(w!==void 0&&w.length>0&&w[0]===0)throw new Error("".concat(g," cannot have leading zeroes, received: ").concat(w.toString("hex")))}}catch(x){I={error:x}}finally{try{u&&!u.done&&(p=o.return)&&p.call(o)}finally{if(I)throw I.error}}};r.validateNoLeadingZeroes=st;function Ve(A){return Array.isArray(A)?A.map(function(I){return Ve(I)}):Buffer.from(A)}r.arrToBufArr=Ve;function B(A){return Array.isArray(A)?A.map(function(I){return B(I)}):Uint8Array.from(A!=null?A:[])}r.bufArrToArr=B})(Yt);var Ai={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160FromArray=r.ripemd160FromString=r.ripemd160=r.sha256FromArray=r.sha256FromString=r.sha256=r.keccakFromArray=r.keccakFromHexString=r.keccakFromString=r.keccak256=r.keccak=void 0;var e=Jo,t=Zo,i=nt,n=Yt,s=ht,a=function(R,D){switch(D===void 0&&(D=256),(0,s.assertIsBuffer)(R),D){case 224:return(0,e.keccak224)(R);case 256:return(0,e.keccak256)(R);case 384:return(0,e.keccak384)(R);case 512:return(0,e.keccak512)(R);default:throw new Error("Invald algorithm: keccak".concat(D))}};r.keccak=a;var h=function(R){return(0,r.keccak)(R)};r.keccak256=h;var c=function(R,D){D===void 0&&(D=256),(0,s.assertIsString)(R);var W=Buffer.from(R,"utf8");return(0,r.keccak)(W,D)};r.keccakFromString=c;var d=function(R,D){return D===void 0&&(D=256),(0,s.assertIsHexString)(R),(0,r.keccak)((0,n.toBuffer)(R),D)};r.keccakFromHexString=d;var m=function(R,D){return D===void 0&&(D=256),(0,s.assertIsArray)(R),(0,r.keccak)((0,n.toBuffer)(R),D)};r.keccakFromArray=m;var b=function(R){return R=(0,n.toBuffer)(R),t("sha256").update(R).digest()},S=function(R){return(0,s.assertIsBuffer)(R),b(R)};r.sha256=S;var P=function(R){return(0,s.assertIsString)(R),b(R)};r.sha256FromString=P;var T=function(R){return(0,s.assertIsArray)(R),b(R)};r.sha256FromArray=T;var N=function(R,D){R=(0,n.toBuffer)(R);var W=t("rmd160").update(R).digest();return D===!0?(0,n.setLengthLeft)(W,32):W},k=function(R,D){return(0,s.assertIsBuffer)(R),N(R,D)};r.ripemd160=k;var F=function(R,D){return(0,s.assertIsString)(R),N(R,D)};r.ripemd160FromString=F;var ee=function(R,D){return(0,s.assertIsArray)(R),N(R,D)};r.ripemd160FromArray=ee;var Ke=function(R){return(0,r.keccak)(i.rlp.encode(R))};r.rlphash=Ke})(Ai);var Ei={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=r.bnToRlp=r.bnToUnpaddedBuffer=r.bnToHex=void 0;var e=nt,t=Z,i=Yt;function n(d){return"0x".concat(d.toString(16))}r.bnToHex=n;function s(d){return(0,i.unpadBuffer)(d.toArrayLike(Buffer))}r.bnToUnpaddedBuffer=s;function a(d){return s(d)}r.bnToRlp=a;var h;(function(d){d[d.Number=0]="Number",d[d.BN=1]="BN",d[d.Buffer=2]="Buffer",d[d.PrefixedHexString=3]="PrefixedHexString"})(h=r.TypeOutput||(r.TypeOutput={}));function c(d,m){if(d===null)return null;if(d!==void 0){if(typeof d=="string"&&!(0,t.isHexString)(d))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(d));if(typeof d=="number"&&!Number.isSafeInteger(d))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var b=(0,i.toBuffer)(d);if(m===h.Buffer)return b;if(m===h.BN)return new e.BN(b);if(m===h.Number){var S=new e.BN(b),P=new e.BN(Number.MAX_SAFE_INTEGER.toString());if(S.gt(P))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return S.toNumber()}else return"0x".concat(b.toString("hex"))}}r.toType=c})(Ei);(function(r){var e=X&&X.__read||function(B,A){var I=typeof Symbol=="function"&&B[Symbol.iterator];if(!I)return B;var p=I.call(B),o,u=[],l;try{for(;(A===void 0||A-- >0)&&!(o=p.next()).done;)u.push(o.value)}catch(g){l={error:g}}finally{try{o&&!o.done&&(I=p.return)&&I.call(p)}finally{if(l)throw l.error}}return u},t=X&&X.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;var i=t(vi),n=nt,s=Ws,a=Z,h=zn,c=Yt,d=Ai,m=ht,b=Ei,S=function(){function B(A,I,p,o){A===void 0&&(A=new n.BN(0)),I===void 0&&(I=new n.BN(0)),p===void 0&&(p=h.KECCAK256_RLP),o===void 0&&(o=h.KECCAK256_NULL),this.nonce=A,this.balance=I,this.stateRoot=p,this.codeHash=o,this._validate()}return B.fromAccountData=function(A){var I=A.nonce,p=A.balance,o=A.stateRoot,u=A.codeHash;return new B(I?new n.BN((0,c.toBuffer)(I)):void 0,p?new n.BN((0,c.toBuffer)(p)):void 0,o?(0,c.toBuffer)(o):void 0,u?(0,c.toBuffer)(u):void 0)},B.fromRlpSerializedAccount=function(A){var I=n.rlp.decode(A);if(!Array.isArray(I))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(I)},B.fromValuesArray=function(A){var I=e(A,4),p=I[0],o=I[1],u=I[2],l=I[3];return new B(new n.BN(p),new n.BN(o),u,l)},B.prototype._validate=function(){if(this.nonce.lt(new n.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new n.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},B.prototype.raw=function(){return[(0,b.bnToUnpaddedBuffer)(this.nonce),(0,b.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},B.prototype.serialize=function(){return n.rlp.encode(this.raw())},B.prototype.isContract=function(){return!this.codeHash.equals(h.KECCAK256_NULL)},B.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(h.KECCAK256_NULL)},B}();r.Account=S;var P=function(B){try{(0,m.assertIsString)(B)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(B)};r.isValidAddress=P;var T=function(B,A){(0,m.assertIsHexString)(B);var I=(0,a.stripHexPrefix)(B).toLowerCase(),p="";if(A){var o=(0,b.toType)(A,b.TypeOutput.BN);p=o.toString()+"0x"}for(var u=(0,d.keccakFromString)(p+I).toString("hex"),l="0x",g=0;g<I.length;g++)parseInt(u[g],16)>=8?l+=I[g].toUpperCase():l+=I[g];return l};r.toChecksumAddress=T;var N=function(B,A){return(0,r.isValidAddress)(B)&&(0,r.toChecksumAddress)(B,A)===B};r.isValidChecksumAddress=N;var k=function(B,A){(0,m.assertIsBuffer)(B),(0,m.assertIsBuffer)(A);var I=new n.BN(A);return I.isZero()?(0,d.rlphash)([B,null]).slice(-20):(0,d.rlphash)([B,Buffer.from(I.toArray())]).slice(-20)};r.generateAddress=k;var F=function(B,A,I){(0,m.assertIsBuffer)(B),(0,m.assertIsBuffer)(A),(0,m.assertIsBuffer)(I),(0,i.default)(B.length===20),(0,i.default)(A.length===32);var p=(0,d.keccak256)(Buffer.concat([Buffer.from("ff","hex"),B,A,(0,d.keccak256)(I)]));return p.slice(-20)};r.generateAddress2=F;var ee=function(B){return(0,s.privateKeyVerify)(B)};r.isValidPrivate=ee;var Ke=function(B,A){return A===void 0&&(A=!1),(0,m.assertIsBuffer)(B),B.length===64?(0,s.publicKeyVerify)(Buffer.concat([Buffer.from([4]),B])):A?(0,s.publicKeyVerify)(B):!1};r.isValidPublic=Ke;var R=function(B,A){return A===void 0&&(A=!1),(0,m.assertIsBuffer)(B),A&&B.length!==64&&(B=Buffer.from((0,s.publicKeyConvert)(B,!1).slice(1))),(0,i.default)(B.length===64),(0,d.keccak)(B).slice(-20)};r.pubToAddress=R,r.publicToAddress=r.pubToAddress;var D=function(B){return(0,m.assertIsBuffer)(B),Buffer.from((0,s.publicKeyCreate)(B,!1)).slice(1)};r.privateToPublic=D;var W=function(B){return(0,r.publicToAddress)((0,r.privateToPublic)(B))};r.privateToAddress=W;var Ye=function(B){return(0,m.assertIsBuffer)(B),B.length!==64&&(B=Buffer.from((0,s.publicKeyConvert)(B,!1).slice(1))),B};r.importPublic=Ye;var st=function(){var B=20,A=(0,c.zeros)(B);return(0,c.bufferToHex)(A)};r.zeroAddress=st;var Ve=function(B){try{(0,m.assertIsString)(B)}catch{return!1}var A=(0,r.zeroAddress)();return A===B};r.isZeroAddress=Ve})(Hn);var Si={},ah=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Si,"__esModule",{value:!0});Si.Address=void 0;var er=ah(vi),Zr=nt,Hs=Yt,Ar=Hn,fh=function(){function r(e){(0,er.default)(e.length===20,"Invalid address length"),this.buf=e}return r.zero=function(){return new r((0,Hs.zeros)(20))},r.fromString=function(e){return(0,er.default)((0,Ar.isValidAddress)(e),"Invalid address"),new r((0,Hs.toBuffer)(e))},r.fromPublicKey=function(e){(0,er.default)(Buffer.isBuffer(e),"Public key should be Buffer");var t=(0,Ar.pubToAddress)(e);return new r(t)},r.fromPrivateKey=function(e){(0,er.default)(Buffer.isBuffer(e),"Private key should be Buffer");var t=(0,Ar.privateToAddress)(e);return new r(t)},r.generate=function(e,t){return(0,er.default)(Zr.BN.isBN(t)),new r((0,Ar.generateAddress)(e.buf,t.toArrayLike(Buffer)))},r.generate2=function(e,t,i){return(0,er.default)(Buffer.isBuffer(t)),(0,er.default)(Buffer.isBuffer(i)),new r((0,Ar.generateAddress2)(e.buf,t,i))},r.prototype.equals=function(e){return this.buf.equals(e.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.isPrecompileOrSystemAddress=function(){var e=new Zr.BN(this.buf),t=new Zr.BN(0),i=new Zr.BN("ffff","hex");return e.gte(t)&&e.lte(i)},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return Buffer.from(this.buf)},r}();Si.Address=fh;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.hashPersonalMessage=Je.isValidSignature=Je.fromRpcSig=Je.toCompactSig=Je.toRpcSig=Je.ecrecover=Je.ecsign=void 0;var bn=Ws,_r=nt,vt=Yt,uh=Ai,hh=ht,Wt=Ei;function ch(r,e,t){var i=(0,bn.ecdsaSign)(r,e),n=i.signature,s=i.recid,a=Buffer.from(n.slice(0,32)),h=Buffer.from(n.slice(32,64));if(!t||typeof t=="number"){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var c=t?s+(t*2+35):s+27;return{r:a,s:h,v:c}}var d=(0,Wt.toType)(t,Wt.TypeOutput.BN),m=d.muln(2).addn(35).addn(s).toArrayLike(Buffer);return{r:a,s:h,v:m}}Je.ecsign=ch;function _i(r,e){var t=(0,Wt.toType)(r,Wt.TypeOutput.BN);if(!e)return t.subn(27);var i=(0,Wt.toType)(e,Wt.TypeOutput.BN);return t.sub(i.muln(2).addn(35))}function Mi(r){var e=new _r.BN(r);return e.eqn(0)||e.eqn(1)}var lh=function(r,e,t,i,n){var s=Buffer.concat([(0,vt.setLengthLeft)(t,32),(0,vt.setLengthLeft)(i,32)],64),a=_i(e,n);if(!Mi(a))throw new Error("Invalid signature v value");var h=(0,bn.ecdsaRecover)(s,a.toNumber(),r);return Buffer.from((0,bn.publicKeyConvert)(h,!1).slice(1))};Je.ecrecover=lh;var dh=function(r,e,t,i){var n=_i(r,i);if(!Mi(n))throw new Error("Invalid signature v value");return(0,vt.bufferToHex)(Buffer.concat([(0,vt.setLengthLeft)(e,32),(0,vt.setLengthLeft)(t,32),(0,vt.toBuffer)(r)]))};Je.toRpcSig=dh;var ph=function(r,e,t,i){var n=_i(r,i);if(!Mi(n))throw new Error("Invalid signature v value");var s=(0,Wt.toType)(r,Wt.TypeOutput.Number),a=t;return(s>28&&s%2===1||s===1||s===28)&&(a=Buffer.from(t),a[0]|=128),(0,vt.bufferToHex)(Buffer.concat([(0,vt.setLengthLeft)(e,32),(0,vt.setLengthLeft)(a,32)]))};Je.toCompactSig=ph;var gh=function(r){var e=(0,vt.toBuffer)(r),t,i,n;if(e.length>=65)t=e.slice(0,32),i=e.slice(32,64),n=(0,vt.bufferToInt)(e.slice(64));else if(e.length===64)t=e.slice(0,32),i=e.slice(32,64),n=(0,vt.bufferToInt)(e.slice(32,33))>>7,i[0]&=127;else throw new Error("Invalid signature length");return n<27&&(n+=27),{v:n,r:t,s:i}};Je.fromRpcSig=gh;var mh=function(r,e,t,i,n){i===void 0&&(i=!0);var s=new _r.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new _r.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||t.length!==32||!Mi(_i(r,n)))return!1;var h=new _r.BN(e),c=new _r.BN(t);return!(h.isZero()||h.gt(a)||c.isZero()||c.gt(a)||i&&c.cmp(s)===1)};Je.isValidSignature=mh;var vh=function(r){(0,hh.assertIsBuffer)(r);var e=Buffer.from(`Ethereum Signed Message:
`.concat(r.length),"utf-8");return(0,uh.keccak)(Buffer.concat([e,r]))};Je.hashPersonalMessage=vh;var Pi={},yh=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.defineProperties=void 0;var js=yh(vi),wh=Z,qs=nt,Xr=Yt,bh=function(r,e,t){if(r.raw=[],r._fields=[],r.toJSON=function(n){if(n===void 0&&(n=!1),n){var s={};return r._fields.forEach(function(a){s[a]="0x".concat(r[a].toString("hex"))}),s}return(0,Xr.baToJSON)(r.raw)},r.serialize=function(){return qs.rlp.encode(r.raw)},e.forEach(function(n,s){r._fields.push(n.name);function a(){return r.raw[s]}function h(c){c=(0,Xr.toBuffer)(c),c.toString("hex")==="00"&&!n.allowZero&&(c=Buffer.allocUnsafe(0)),n.allowLess&&n.length?(c=(0,Xr.unpadBuffer)(c),(0,js.default)(n.length>=c.length,"The field ".concat(n.name," must not have more ").concat(n.length," bytes"))):!(n.allowZero&&c.length===0)&&n.length&&(0,js.default)(n.length===c.length,"The field ".concat(n.name," must have byte length of ").concat(n.length)),r.raw[s]=c}Object.defineProperty(r,n.name,{enumerable:!0,configurable:!0,get:a,set:h}),n.default&&(r[n.name]=n.default),n.alias&&Object.defineProperty(r,n.alias,{enumerable:!1,configurable:!0,set:h,get:a})}),t)if(typeof t=="string"&&(t=Buffer.from((0,wh.stripHexPrefix)(t),"hex")),Buffer.isBuffer(t)&&(t=qs.rlp.decode(t)),Array.isArray(t)){if(t.length>r._fields.length)throw new Error("wrong number of fields in data");t.forEach(function(n,s){r[r._fields[s]]=(0,Xr.toBuffer)(n)})}else if(typeof t=="object"){var i=Object.keys(t);e.forEach(function(n){i.indexOf(n.name)!==-1&&(r[n.name]=t[n.name]),i.indexOf(n.alias)!==-1&&(r[n.alias]=t[n.alias])})}else throw new Error("invalid data")};Pi.defineProperties=bh;(function(r){var e=X&&X.__createBinding||(Object.create?function(n,s,a,h){h===void 0&&(h=a),Object.defineProperty(n,h,{enumerable:!0,get:function(){return s[a]}})}:function(n,s,a,h){h===void 0&&(h=a),n[h]=s[a]}),t=X&&X.__exportStar||function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,n,a)};Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,t(zn,r),t(Hn,r),t(Si,r),t(Ai,r),t(Je,r),t(Yt,r),t(Pi,r),t(nt,r),t(Ei,r);var i=Z;Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return i.isHexPrefixed}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return i.stripHexPrefix}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return i.padToEven}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return i.getBinarySize}}),Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return i.arrayContainsArray}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return i.toAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return i.fromUtf8}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return i.fromAscii}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return i.getKeys}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return i.isHexString}})})(Mt);var Vs=128,an=_u;function xh(r){if(r){if(!Buffer.isBuffer(r))throw new Error("EthCrypto.createPrivateKey(): given entropy is no Buffer");if(Buffer.byteLength(r,"utf8")<Vs)throw new Error("EthCrypto.createPrivateKey(): Entropy-size must be at least "+Vs);var e=an(r);return e}else{var t=an($e([Jr(32),Jr(32)])),i=$e([$e([Jr(32),t]),Jr(32)]),n=an(i);return n}}function Ah(r){var e=xh(r),t=new jt(e),i={privateKey:e,publicKey:Mt.stripHexPrefix(t.publicKey).slice(2),address:t.address};return i}function or(r){return r.startsWith("0x")?r.substring(2):r}function zt(r){return r.startsWith("0x")?r:"0x"+r}function Ti(r){return Buffer.from(r).toString("hex")}function Ur(r){return new Uint8Array(Buffer.from(r,"hex"))}var Eh=Object.freeze(Object.defineProperty({__proto__:null,removeLeading0x:or,addLeading0x:zt,uint8ArrayToHex:Ti,hexToUnit8Array:Ur},Symbol.toStringTag,{value:"Module"}));function Uo(r){var e=Buffer.from(r,"hex");return e.length===64&&(r="04"+r),Ti(yi.publicKeyConvert(Ur(r),!0))}function Ni(r){var e=Buffer.from(r,"hex");e.length===64&&(r="04"+r);var t=Ti(yi.publicKeyConvert(Ur(r),!1));return t=t.substring(2),t}function jn(r){r=Ni(r);var e=Mt.pubToAddress(Mt.toBuffer(zt(r))),t=Mt.toChecksumAddress(zt(e.toString("hex")));return t}var Sh=Object.freeze(Object.defineProperty({__proto__:null,compress:Uo,decompress:Ni,toAddress:jn},Symbol.toStringTag,{value:"Module"})),_h=Xo.ec,xn=new _h("secp256k1"),pi=X.crypto||X.msCrypto||{},fn=pi.subtle||pi.webkitSubtle,vr=vi;const Mh=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Ph=Buffer.alloc(32,0);function Nt(r,e){if(!r)throw new Error(e||"Assertion failed")}function Th(r){return Buffer.isBuffer(r)&&r.length===32}function qn(r){return Th(r)?r.compare(Ph)>0&&r.compare(Mh)<0:!1}function Nh(r,e){if(r.length!==e.length)return!1;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}function un(r){var e=new Uint8Array(r);return typeof pi.getRandomValues=="undefined"?Buffer.from(vr.randomBytes(r)):(pi.getRandomValues(e),Buffer.from(e))}function Go(r){return new Promise(function(e){var t=vr.createHash("sha512"),i=t.update(r).digest();e(new Uint8Array(i))})}function $o(r){return function(e,t,i){return new Promise(function(n){if(fn){var s={name:"AES-CBC"},a=fn.importKey("raw",t,s,!1,[r]);return a.then(function(d){var m={name:"AES-CBC",iv:e};return fn[r](m,d,i)}).then(function(d){n(Buffer.from(new Uint8Array(d)))})}else if(r==="encrypt"){var h=vr.createCipheriv("aes-256-cbc",t,e);let d=h.update(i),m=h.final();n(Buffer.concat([d,m]))}else if(r==="decrypt"){var c=vr.createDecipheriv("aes-256-cbc",t,e);let d=c.update(i),m=c.final();n(Buffer.concat([d,m]))}})}}var Ch=$o("encrypt"),Bh=$o("decrypt");function Ih(r,e){return new Promise(function(t){var i=vr.createHmac("sha256",Buffer.from(r));i.update(e);var n=i.digest();t(n)})}function kh(r,e,t){return new Promise(function(i){var n=vr.createHmac("sha256",Buffer.from(r));n.update(e);var s=n.digest();i(Nh(s,t))})}var Rh=function(r){return Nt(r.length===32,"Bad private key"),Nt(qn(r),"Bad private key"),Buffer.from(xn.keyFromPrivate(r).getPublic("arr"))},Ko=function(r,e){return new Promise(function(t){Nt(Buffer.isBuffer(r),"Bad private key"),Nt(Buffer.isBuffer(e),"Bad public key"),Nt(r.length===32,"Bad private key"),Nt(qn(r),"Bad private key"),Nt(e.length===65||e.length===33,"Bad public key"),e.length===65&&Nt(e[0]===4,"Bad public key"),e.length===33&&Nt(e[0]===2||e[0]===3,"Bad public key");var i=xn.keyFromPrivate(r),n=xn.keyFromPublic(e),s=i.derive(n.getPublic());t(Buffer.from(s.toArray()))})},Oh=function(r,e,t){t=t||{};var i,n,s,a;return new Promise(function(h){for(var c=t.ephemPrivateKey||un(32);!qn(c);)c=t.ephemPrivateKey||un(32);n=Rh(c),h(Ko(c,r))}).then(function(h){return Go(h)}).then(function(h){i=t.iv||un(16);var c=h.slice(0,32);return a=h.slice(32),Ch(i,c,e)}).then(function(h){s=h;var c=Buffer.concat([i,n,s]);return Ih(a,c)}).then(function(h){return{iv:i,ephemPublicKey:n,ciphertext:s,mac:h}})},Fh=function(r,e){var t;return Ko(r,e.ephemPublicKey).then(function(i){return Go(i)}).then(function(i){t=i.slice(0,32);var n=i.slice(32),s=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]);return kh(n,s,e.mac)}).then(function(i){return Nt(i,"Bad MAC"),Bh(e.iv,t,e.ciphertext)}).then(function(i){return Buffer.from(new Uint8Array(i))})};function Lh(r){if(typeof r=="string")return r;var e=Uo(r.ephemPublicKey),t=Buffer.concat([Buffer.from(r.iv,"hex"),Buffer.from(e,"hex"),Buffer.from(r.mac,"hex"),Buffer.from(r.ciphertext,"hex")]);return t.toString("hex")}function zo(r){if(typeof r!="string")return r;var e=Buffer.from(r,"hex"),t={iv:e.toString("hex",0,16),ephemPublicKey:e.toString("hex",16,49),mac:e.toString("hex",49,81),ciphertext:e.toString("hex",81,e.length)};return t.ephemPublicKey="04"+Ni(t.ephemPublicKey),t}var Dh=Object.freeze(Object.defineProperty({__proto__:null,stringify:Lh,parse:zo},Symbol.toStringTag,{value:"Module"}));function Uh(r,e){e=zo(e);var t=or(r),i={iv:Buffer.from(e.iv,"hex"),ephemPublicKey:Buffer.from(e.ephemPublicKey,"hex"),ciphertext:Buffer.from(e.ciphertext,"hex"),mac:Buffer.from(e.mac,"hex")};return Fh(Buffer.from(t,"hex"),i).then(function(n){return n.toString()})}function Gh(r,e,t){r=Ni(r);var i="04"+r;return Oh(Buffer.from(i,"hex"),Buffer.from(e),t||{}).then(function(n){var s={iv:n.iv.toString("hex"),ephemPublicKey:n.ephemPublicKey.toString("hex"),ciphertext:n.ciphertext.toString("hex"),mac:n.mac.toString("hex")};return s})}function Ho(r){r=zt(r);var e=Mt.privateToPublic(Mt.toBuffer(r));return e.toString("hex")}function jo(r,e){r=or(r);var t=r.substring(0,r.length-2),i=r.slice(-2),n=i==="1c"?1:0,s=Ti(yi.ecdsaRecover(Ur(t),n,Ur(or(e)),!1));return s=s.slice(2),s}function $h(r,e){var t=jo(r,e),i=jn(t);return i}function Kh(r,e){if(e=zt(e),e.length!==66)throw new Error("EthCrypto.sign(): Can only sign hashes, given: "+e);var t=yi.ecdsaSign(new Uint8Array(Buffer.from(or(e),"hex")),new Uint8Array(Buffer.from(or(r),"hex"))),i=t.recid===1?"1c":"1b",n="0x"+Buffer.from(t.signature).toString("hex")+i;return n}function zh(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ho(e),n=jn(i);if(n!=r.from)throw new Error("EthCrypto.signTransaction(): rawTx.from does not match the address of the privateKey");var s=Buffer.from(e.replace(/^.{2}/g,""),"hex"),a=Yo.Transaction.fromTxData(r,t),h=a.sign(s),c=h.serialize().toString("hex");return c}function An(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function Hh(r){if(Array.isArray(r))return An(r)}function jh(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function qh(r,e){if(!!r){if(typeof r=="string")return An(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return An(r,e)}}function Vh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wh(r){return Hh(r)||jh(r)||qh(r)||Vh()}function Jh(r,e,t){typeof r=="string"&&(r=JSON.parse(r));var i=new nf(r,"0x"+e),n=i.getDeployTransaction.apply(i,Wh(t));return n.data}function Zh(r,e){var t=Mt.generateAddress(Mt.toBuffer(zt(r)),Mt.toBuffer(e)),i=t.toString("hex");return Mt.toChecksumAddress(zt(i))}function Xh(r){var e=[],t=[];return Array.isArray(r)?r.forEach(function(i){e.push(i.type),t.push(i.value)}):(e.push("string"),t.push(r)),Du(e,t)}var Yh=`Ethereum Signed Message:
32`,Qh=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Xh,SIGN_PREFIX:Yh},Symbol.toStringTag,{value:"Module"}));function ec(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r=or(r),e===!0)return Buffer.from(r,"hex").toString("base64");for(var t="";r.length%4!=0;)r="0"+r;for(var i=0;i<r.length;i+=4)t+=String.fromCharCode(parseInt(r.substring(i,i+4),16));return t}function tc(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e===!0){var t=Buffer.from(r,"base64").toString("hex");return zt(t)}for(var i="",n=0;n<r.length;n++)i+=((n==0?"":"000")+r.charCodeAt(n).toString(16)).slice(-4);return i=i.toLowerCase(),zt(i)}var rc=Object.freeze(Object.defineProperty({__proto__:null,compress:ec,decompress:tc},Symbol.toStringTag,{value:"Module"}));function ic(r){var e=Gr(r);return{v:"0x".concat(e.v.toString(16)),r:e.r,s:e.s}}function nc(r){return hn(r)}var sc=Object.freeze(Object.defineProperty({__proto__:null,fromString:ic,toString:nc},Symbol.toStringTag,{value:"Module"})),dc={createIdentity:Ah,publicKey:Sh,decryptWithPrivateKey:Uh,encryptWithPublicKey:Gh,cipher:Dh,publicKeyByPrivateKey:Ho,recover:$h,recoverPublicKey:jo,sign:Kh,signTransaction:zh,txDataByCompiled:Jh,calculateContractAddress:Zh,hash:Qh,hex:rc,vrs:sc,util:Eh};export{Zh as calculateContractAddress,Dh as cipher,Ah as createIdentity,Uh as decryptWithPrivateKey,dc as default,Gh as encryptWithPublicKey,Qh as hash,rc as hex,Sh as publicKey,Ho as publicKeyByPrivateKey,$h as recover,jo as recoverPublicKey,Kh as sign,zh as signTransaction,Jh as txDataByCompiled,Eh as util,sc as vrs};
