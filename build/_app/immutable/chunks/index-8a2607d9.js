var I=globalThis&&globalThis.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&r[a],t=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},g={},A={},p=function(r,a){A[r]=a},e=function(r){var a=function(t,o){Object.assign(this,o),this.name=r,this.message=t||r,this.stack=new Error().stack};return a.prototype=new Error,g[r]=a,a},D=function(r){if(typeof r=="object"&&r){try{var a=JSON.parse(r.message);a.message&&a.name&&(r=a)}catch{}var n=void 0;if(typeof r.name=="string"){var t=r.name,o=A[t];if(o)n=o(r);else{var s=t==="Error"?Error:g[t];s||(console.warn("deserializing an unknown class '"+t+"'"),s=e(t)),n=Object.create(s.prototype);try{for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}catch{}}}else n=new Error(r.message);return!n.stack&&Error.captureStackTrace&&Error.captureStackTrace(n,D),n}return new Error(String(r))},C=function(r){return r&&(typeof r=="object"?N(r,[]):typeof r=="function"?"[Function: "+(r.name||"anonymous")+"]":r)};function N(r,a){var n,t,o={};a.push(r);try{for(var s=I(Object.keys(r)),i=s.next();!i.done;i=s.next()){var c=i.value,u=r[c];if(typeof u!="function"){if(!u||typeof u!="object"){o[c]=u;continue}if(a.indexOf(r[c])===-1){o[c]=N(r[c],a.slice(0));continue}o[c]="[Circular]"}}}catch(S){n={error:S}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return typeof r.name=="string"&&(o.name=r.name),typeof r.message=="string"&&(o.message=r.message),typeof r.stack=="string"&&(o.stack=r.stack),o}var h=e("AccountNameRequired"),R=e("AccountNotSupported"),f=e("AmountRequired"),U=e("BluetoothRequired"),O=e("BtcUnmatchedApp"),F=e("CantOpenDevice"),x=e("CashAddrNotSupported"),m=e("CurrencyNotSupported"),y=e("DeviceAppVerifyNotSupported"),M=e("DeviceGenuineSocketEarlyClose"),P=e("DeviceNotGenuine"),L=e("DeviceOnDashboardExpected"),_=e("DeviceOnDashboardUnexpected"),w=e("DeviceInOSUExpected"),B=e("DeviceHalted"),b=e("DeviceNameInvalid"),k=e("DeviceSocketFail"),G=e("DeviceSocketNoBulkStatus"),q=e("DisconnectedDevice"),H=e("DisconnectedDeviceDuringOperation"),W=e("EnpointConfig"),z=e("EthAppPleaseEnableContractData"),V=e("FeeEstimationFailed"),Y=e("FirmwareNotRecognized"),X=e("HardResetFail"),K=e("InvalidXRPTag"),Q=e("InvalidAddress"),J=e("InvalidAddressBecauseDestinationIsAlsoSource"),Z=e("LatestMCUInstalledError"),j=e("UnknownMCU"),$=e("LedgerAPIError"),ee=e("LedgerAPIErrorWithMessage"),re=e("LedgerAPINotAvailable"),ae=e("ManagerAppAlreadyInstalled"),ne=e("ManagerAppRelyOnBTC"),te=e("ManagerAppDepInstallRequired"),oe=e("ManagerAppDepUninstallRequired"),ie=e("ManagerDeviceLocked"),se=e("ManagerFirmwareNotEnoughSpace"),ce=e("ManagerNotEnoughSpace"),de=e("ManagerUninstallBTCDep"),ue=e("NetworkDown"),le=e("NoAddressesFound"),pe=e("NotEnoughBalance"),ve=e("NotEnoughBalanceToDelegate"),Ee=e("NotEnoughBalanceInParentAccount"),ge=e("NotEnoughSpendableBalance"),Ae=e("NotEnoughBalanceBecauseDestinationNotCreated"),De=e("NoAccessToCamera"),Ne=e("NotEnoughGas"),Te=e("NotSupportedLegacyAddress"),Se=e("GasLessThanEstimate"),Ie=e("PasswordsDontMatch"),Ce=e("PasswordIncorrect"),he=e("RecommendSubAccountsToEmpty"),Re=e("RecommendUndelegation"),fe=e("TimeoutTagged"),Ue=e("UnexpectedBootloader"),Oe=e("MCUNotGenuineToDashboard"),Fe=e("RecipientRequired"),xe=e("UnavailableTezosOriginatedAccountReceive"),me=e("UnavailableTezosOriginatedAccountSend"),ye=e("UpdateFetchFileFail"),Me=e("UpdateIncorrectHash"),Pe=e("UpdateIncorrectSig"),Le=e("UpdateYourApp"),_e=e("UserRefusedDeviceNameChange"),we=e("UserRefusedAddress"),Be=e("UserRefusedFirmwareUpdate"),be=e("UserRefusedAllowManager"),ke=e("UserRefusedOnDevice"),Ge=e("TransportOpenUserCancelled"),qe=e("TransportInterfaceNotAvailable"),He=e("TransportRaceCondition"),We=e("TransportWebUSBGestureRequired"),ze=e("DeviceShouldStayInApp"),Ve=e("WebsocketConnectionError"),Ye=e("WebsocketConnectionFailed"),Xe=e("WrongDeviceForAccount"),Ke=e("WrongAppForCurrency"),Qe=e("ETHAddressNonEIP"),Je=e("CantScanQRCode"),Ze=e("FeeNotLoaded"),je=e("FeeRequired"),$e=e("FeeTooHigh"),er=e("SyncError"),rr=e("PairingFailed"),ar=e("GenuineCheckFailed"),nr=e("LedgerAPI4xx"),tr=e("LedgerAPI5xx"),or=e("FirmwareOrAppUpdateRequired"),ir=e("NoDBPathGiven"),sr=e("DBWrongPassword"),cr=e("DBNotReset");function v(r,a){this.name="TransportError",this.message=r,this.stack=new Error().stack,this.id=a}v.prototype=new Error;p("TransportError",function(r){return new v(r.message,r.id)});var l={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function T(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=r&&r<=28671)return"Internal error, please report"}function E(r){this.name="TransportStatusError";var a=Object.keys(l).find(function(o){return l[o]===r})||"UNKNOWN_ERROR",n=T(r)||a,t=r.toString(16);this.message="Ledger device: "+n+" (0x"+t+")",this.stack=new Error().stack,this.statusCode=r,this.statusText=a}E.prototype=new Error;p("TransportStatusError",function(r){return new E(r.statusCode)});var pr=Object.freeze(Object.defineProperty({__proto__:null,serializeError:C,deserializeError:D,createCustomErrorClass:e,addCustomErrorDeserializer:p,AccountNameRequiredError:h,AccountNotSupported:R,AmountRequired:f,BluetoothRequired:U,BtcUnmatchedApp:O,CantOpenDevice:F,CashAddrNotSupported:x,CurrencyNotSupported:m,DeviceAppVerifyNotSupported:y,DeviceGenuineSocketEarlyClose:M,DeviceNotGenuineError:P,DeviceOnDashboardExpected:L,DeviceOnDashboardUnexpected:_,DeviceInOSUExpected:w,DeviceHalted:B,DeviceNameInvalid:b,DeviceSocketFail:k,DeviceSocketNoBulkStatus:G,DisconnectedDevice:q,DisconnectedDeviceDuringOperation:H,EnpointConfigError:W,EthAppPleaseEnableContractData:z,FeeEstimationFailed:V,FirmwareNotRecognized:Y,HardResetFail:X,InvalidXRPTag:K,InvalidAddress:Q,InvalidAddressBecauseDestinationIsAlsoSource:J,LatestMCUInstalledError:Z,UnknownMCU:j,LedgerAPIError:$,LedgerAPIErrorWithMessage:ee,LedgerAPINotAvailable:re,ManagerAppAlreadyInstalledError:ae,ManagerAppRelyOnBTCError:ne,ManagerAppDepInstallRequired:te,ManagerAppDepUninstallRequired:oe,ManagerDeviceLockedError:ie,ManagerFirmwareNotEnoughSpaceError:se,ManagerNotEnoughSpaceError:ce,ManagerUninstallBTCDep:de,NetworkDown:ue,NoAddressesFound:le,NotEnoughBalance:pe,NotEnoughBalanceToDelegate:ve,NotEnoughBalanceInParentAccount:Ee,NotEnoughSpendableBalance:ge,NotEnoughBalanceBecauseDestinationNotCreated:Ae,NoAccessToCamera:De,NotEnoughGas:Ne,NotSupportedLegacyAddress:Te,GasLessThanEstimate:Se,PasswordsDontMatchError:Ie,PasswordIncorrectError:Ce,RecommendSubAccountsToEmpty:he,RecommendUndelegation:Re,TimeoutTagged:fe,UnexpectedBootloader:Ue,MCUNotGenuineToDashboard:Oe,RecipientRequired:Fe,UnavailableTezosOriginatedAccountReceive:xe,UnavailableTezosOriginatedAccountSend:me,UpdateFetchFileFail:ye,UpdateIncorrectHash:Me,UpdateIncorrectSig:Pe,UpdateYourApp:Le,UserRefusedDeviceNameChange:_e,UserRefusedAddress:we,UserRefusedFirmwareUpdate:Be,UserRefusedAllowManager:be,UserRefusedOnDevice:ke,TransportOpenUserCancelled:Ge,TransportInterfaceNotAvailable:qe,TransportRaceCondition:He,TransportWebUSBGestureRequired:We,DeviceShouldStayInApp:ze,WebsocketConnectionError:Ve,WebsocketConnectionFailed:Ye,WrongDeviceForAccount:Xe,WrongAppForCurrency:Ke,ETHAddressNonEIP:Qe,CantScanQRCode:Je,FeeNotLoaded:Ze,FeeRequired:je,FeeTooHigh:$e,SyncError:er,PairingFailed:rr,GenuineCheckFailed:ar,LedgerAPI4xx:nr,LedgerAPI5xx:tr,FirmwareOrAppUpdateRequired:or,NoDBPathGiven:ir,DBWrongPassword:sr,DBNotReset:cr,TransportError:v,StatusCodes:l,getAltStatusMessage:T,TransportStatusError:E},Symbol.toStringTag,{value:"Module"})),dr=0,d=[],vr=function(r,a,n){var t={type:r,id:String(++dr),date:new Date};a&&(t.message=a),n&&(t.data=n),lr(t)},ur=function(r){return d.push(r),function(){var a=d.indexOf(r);a!==-1&&(d[a]=d[d.length-1],d.pop())}};function lr(r){for(var a=0;a<d.length;a++)try{d[a](r)}catch(n){console.error(n)}}typeof window!="undefined"&&(window.__ledgerLogsListen=ur);export{H as D,l as S,v as T,E as a,He as b,qe as c,vr as d,We as e,Ge as f,q as g,e as h,pr as l};
